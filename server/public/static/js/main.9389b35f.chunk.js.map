{"version":3,"sources":["Service/AuthService.js","components/auth/Signup.js","components/auth/Login.js","components/Nav/Nav.js","components/sections/ProfileInfo/ProfileInfo.js","components/sections/Home/Home.js","components/Mapas/AutocompleteStart.js","components/Mapas/AutocompleteEnd.js","Service/JourneyService.js","components/Toggable/Toggable.js","components/sections/Join/Join.js","Service/NotificationsService.js","components/Mapas/AutocompleteAsked.js","components/Mapas/Mapwithoutform.js","components/sections/Askstop/Askstop.js","components/JourneySelected/JourneySelected.js","components/Mapas/Mapas.js","components/sections/Create/Create.js","components/sections/LoginSignup/LoginSignup.js","components/sections/Notifications/Notifications.js","App.js","serviceWorker.js","index.js"],"names":["AuthService","_this","this","Object","classCallCheck","signup","user","formData","FormData","keys","forEach","key","append","service","post","headers","Content-Type","then","response","data","login","change","loggedin","get","logout","axios","create","baseURL","withCredentials","Signup","possibleConstructorReturn","getPrototypeOf","call","handleFormSubmit","e","preventDefault","_this$state","state","username","password","photo","authService","props","getUser","setState","redirect","handleChange","_e$target","target","name","value","objectSpread","files","defineProperty","_this2","react_default","a","createElement","Redirect","to","onSubmit","type","onChange","Component","Login","className","Link","data-feather","src","alt","placeholder","nav","href","id","for","xmlns","version","in","result","stdDeviation","mode","values","dx","dy","in2","ProfileInfo","email","Nav_nav","image","Autocomplete","address","console","log","handleSelect","geocodeByAddress","results","getLatLng","latLng","update","catch","error","dist_default","onSelect","_ref","getInputProps","suggestions","getSuggestionItemProps","loading","map","suggestion","active","style","backgroundColor","cursor","description","React","AutocompleteEnd","JourneyService","companies","userJourneysAccess","userJourneysCreate","userCars","Toggable","enabled","enabledFromProps","isEnabled","toggleSwitch","evt","persist","_this$props","onClick","onStateChanged","switchEvent","assign","SWITCH_STATE","isFunction","isBoolean","_this$props2","theme","restProps","objectWithoutProperties","switchTheme","isString","switchClasses","classnames","concat","togglerClasses","Join","getJourneys","journeyService","journeys","toggleNotifications","startInfo","userStart","endInfo","userEnd","filterByDistance","journeysFiltered","length","coorstart","lat","lng","coorend","push","sortByDate","sortedArray","sort","b","date","sortByTime","time","sortByCompany","company","sortByPlaces","places","sortByDistance","distance","sortByDuration","duration","sortByPrice","price","directions","funciona","AutocompleteStart","Mapas_AutocompleteEnd","components_Toggable_Toggable","journey","_id","imgPath","NotificationsService","status","sentNotifs","placesChange","getNotifications","require","compose","withProps","lifecycle","config","Mapas","updateCoorstart","createMap","comodin","startPoint","updateCoorend","endPoint","updateCoorAsked","coorAsked","handleInfo","coord","infoMaps","componentWillMount","fnc","mapGoogle","googleMapURL","loadingElement","height","containerElement","width","mapElement","withScriptjs","withGoogleMap","componentDidMount","google","window","maps","DirectionsService","route","origin","LatLng","destination","travelMode","TravelMode","DRIVING","DirectionsStatus","OK","routes","legs","toFixed","toString","replace","Math","floor","parseFloat","start_point","start_address","start_location_lat","start_location","start_location_lng","end_point","end_address","end_location_lat","end_location","end_location_lng","tempPointlat","overview_path","tempPointlng","lib","defaultZoom","defaultCenter","position","startpoints","MapWithADirectionsRenderer","Askstop","getJourney","url","match","params","err","waypoints","location","notificationsService","painter","Mapwithoutform_Mapas","applyForPlace","JourneySelected","receptorId","authorId","journeyId","_this$state2","fetchUser","cooAsked","_this3","info","Mapas_Mapas","LoginSignup","Notifications","notifications","paintNotifications","array","newNotifications","acceptPassenger","notifId","author","receptor","idNotification","Array","isArray","notification","i","class","App","welcome","Switch","Route","exact","path","render","Signup_Signup","Login_Login","LoginSignup_LoginSignup","Join_Join","Create_Join","ProfileInfo_ProfileInfo","component","Notifications_Notifications","Askstop_Askstop","Boolean","hostname","ReactDOM","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9389b35f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: \"http://localhost:5000/api/auth\",\r\n      withCredentials: true\r\n    })\r\n  }\r\n\r\n  signup = (user) => {\r\n    const formData = new FormData();\r\n    Object.keys(user).forEach(key => formData.append(key, user[key]));\r\n\r\n    return this.service.post('/signup', formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n    })\r\n    .then(response => response.data)\r\n  }\r\n\r\n  login = (user) => {\r\n    return this.service.post('/login', user)\r\n    .then(response => response.data)\r\n  }\r\n\r\n  change = (user) => {\r\n    return this.service.post('/settings', user)\r\n    .then(response => response.data)\r\n  }\r\n\r\n  loggedin = () => {\r\n    return this.service.get('/loggedin')\r\n    .then(response => response.data);\r\n  }\r\n\r\n  logout = () => {\r\n    return this.service.get('/logout')\r\n    .then(response => response.data);\r\n  }\r\n}\r\n\r\nexport default AuthService;","import React, { Component } from 'react';\r\nimport AuthService from '../../Service/AuthService';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default class Signup extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      photo: '',\r\n      redirect: false\r\n    }\r\n\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password, photo} = this.state;\r\n\r\n    this.authService.signup({username, password, photo})\r\n    .then(user => {\r\n      this.props.getUser(user)\r\n      this.setState({username: '', password: '', photo: '', redirect: true})\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    if(name === \"photo\") {\r\n      this.setState({...this.state, photo: e.target.files[0]})\r\n    } else {\r\n      this.setState({...this.state, [name]: value});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(this.state && this.state.redirect) {\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h2>Signup</h2>\r\n        <form onSubmit={this.handleFormSubmit}>\r\n        \r\n          <input type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n         \r\n          <input type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          \r\n          <input type=\"file\" name=\"photo\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input type=\"submit\" value=\"signup\"/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport AuthService from '../../Service/AuthService';\r\nimport {Link,Redirect} from \"react-router-dom\";\r\nexport default class Login extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      redirect: false\r\n\r\n    }\r\n\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password} = this.state;\r\n\r\n    this.authService.login({username, password})\r\n    .then(user => this.props.getUser(user));\r\n    this.setState({redirect: true})\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if(this.state.redirect==true) {\r\n      return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className='loginSignupBody'>\r\n        <div className='back-btn'>\r\n        <Link to='/' className=\"button-circle\">\r\n\r\n        <i className=\"button-circle__icon fa fa-arrow-right\" data-feather=\"chevron-right\"></i>\r\n       \r\n\r\n        </Link>\r\n      </div>\r\n        <img className='logo' src=\"../../../../images/EasyGo-white.svg\" alt=\"\"/>\r\n       \r\n        <form className='center-form' onSubmit={this.handleFormSubmit}>\r\n       \r\n         \r\n          <input className='inputs-form' placeholder='username' type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input className='inputs-form' placeholder='password' type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input className='button submit-log' type=\"submit\" value=\"Login\"/>\r\n        </form>\r\n      </div>      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"./_nav.scss\";\r\n\r\nexport default class nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"nav-block\" >\r\n        <nav className=\"menu\">\r\n          <input\r\n            type=\"checkbox\"\r\n            href=\"#\"\r\n            className=\"menu-open\"\r\n            name=\"menu-open\"\r\n            id=\"menu-open\"\r\n          />\r\n          <label className=\"menu-open-button\" for=\"menu-open\">\r\n            <span className=\"hamburger hamburger-1\" />\r\n            <span className=\"hamburger hamburger-2\" />\r\n            <span className=\"hamburger hamburger-3\" />\r\n          </label>\r\n\r\n          <Link to=\"/notifications\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-bell\"></i>{\" \"}\r\n          </Link>\r\n          <Link to=\"/profile\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-user\" />{\" \"}\r\n          </Link>\r\n          <Link to=\"/create\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-plus\" />{\" \"}\r\n          </Link>\r\n          <Link to=\"/join\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-search\" />{\" \"}\r\n          </Link>\r\n          \r\n        </nav>\r\n\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n          <defs>\r\n            <filter id=\"shadowed-goo\">\r\n              <feGaussianBlur\r\n                in=\"SourceGraphic\"\r\n                result=\"blur\"\r\n                stdDeviation=\"10\"\r\n              />\r\n              <feColorMatrix\r\n                in=\"blur\"\r\n                mode=\"matrix\"\r\n                values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7\"\r\n                result=\"goo\"\r\n              />\r\n              <feGaussianBlur in=\"goo\" stdDeviation=\"3\" result=\"shadow\" />\r\n              <feColorMatrix\r\n                in=\"shadow\"\r\n                mode=\"matrix\"\r\n                values=\"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2\"\r\n                result=\"shadow\"\r\n              />\r\n              <feOffset in=\"shadow\" dx=\"1\" dy=\"1\" result=\"shadow\" />\r\n              <feComposite in2=\"shadow\" in=\"goo\" result=\"goo\" />\r\n              <feComposite in2=\"goo\" in=\"SourceGraphic\" result=\"mix\" />\r\n            </filter>\r\n            <filter id=\"goo\">\r\n              <feGaussianBlur\r\n                in=\"SourceGraphic\"\r\n                result=\"blur\"\r\n                stdDeviation=\"10\"\r\n              />\r\n              <feColorMatrix\r\n                in=\"blur\"\r\n                mode=\"matrix\"\r\n                values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7\"\r\n                result=\"goo\"\r\n              />\r\n              <feComposite in2=\"goo\" in=\"SourceGraphic\" result=\"mix\" />\r\n            </filter>\r\n          </defs>\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport AuthService from '../../../Service/AuthService.js';\r\nimport Nav from '../../Nav/Nav.js'\r\nexport default class ProfileInfo extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      email:''\r\n    }\r\n \r\n    this.authService = new AuthService();\r\n  }\r\n\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password, email} = this.state;\r\n\r\n    this.authService.change({username, password, email})\r\n    .then(user => this.props.getUser(user));\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n         <Nav />\r\n         <header id='profile-header'></header>\r\n         \r\n        <img src={this.props.image} alt=\"\"/>   \r\n         <form onSubmit={this.handleFormSubmit}>\r\n          <label>Username</label>\r\n          <input type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n          <label>Password</label>\r\n          <input type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          <label>Email</label>\r\n          <input type=\"text\" name=\"email\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input type=\"submit\" value=\"Change\"/>\r\n        </form>\r\n\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n       \r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>         \r\n        <Nav />\r\n        <h1>HOME</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass Autocomplete extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n            \r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'Start point',\r\n                    className: 'location-search-inputStart',\r\n                    \r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container \">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer'}\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className:'auto-input',\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default Autocomplete;","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass AutocompleteEnd extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n            className='auto-info'\r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'End Point',\r\n                    className: 'location-search-inputEnd',\r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className:'auto-input',\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default AutocompleteEnd;","import axios from 'axios'\r\n\r\nclass JourneyService{\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: \"http://localhost:5000/api/journeys\",\r\n      withCredentials: true\r\n    })\r\n  }\r\n  \r\n  \r\n  companies = () => {\r\n    return this.service.get('/companies')\r\n    .then(response => response.data)\r\n  }\r\n  userJourneysAccess = () => {\r\n    return this.service.get('/journeys')\r\n    .then(response => response.data)\r\n  }\r\n  userJourneysCreate = (data) => {\r\n    return this.service.post('/create',data)\r\n    .then(response => response.data)\r\n  }\r\n  // userJourneysAskstop= (data) => {\r\n  //   return this.service.get('/journeys/:id',data)\r\n  //   .then(response => response.data)\r\n  // }\r\n  \r\n  userCars = ()=> {\r\n    return this.service.post('/journeys/car')\r\n    .then(response => response.data)\r\n  }\r\n\r\n}\r\nexport default JourneyService;","import PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport isString from 'lodash/isString';\r\nimport React, { Component } from 'react';\r\nimport isBoolean from 'lodash/isBoolean';\r\nimport isFunction from 'lodash/isFunction';\r\n\r\n\r\nclass Toggable extends Component {\r\n\r\n  state = { enabled: this.enabledFromProps() }\r\n\r\n  isEnabled = () => this.state.enabled\r\n\r\n  enabledFromProps() {\r\n    let { enabled } = this.props;\r\n\r\n    // If enabled is a function, invoke the function\r\n    enabled = isFunction(enabled) ? enabled() : enabled;\r\n\r\n    // Return enabled if it is a boolean, otherwise false\r\n    return isBoolean(enabled) && enabled;\r\n  }\r\n\r\n  toggleSwitch = evt => {\r\n    evt.persist();\r\n    evt.preventDefault();\r\n\r\n    const { onClick, onStateChanged } = this.props;\r\n\r\n    this.setState({ enabled: !this.state.enabled }, () => {\r\n      const state = this.state;\r\n\r\n      // Augument the event object with SWITCH_STATE\r\n      const switchEvent = Object.assign(evt, { SWITCH_STATE: state });\r\n\r\n      // Execute the callback functions\r\n      isFunction(onClick) && onClick(switchEvent);\r\n      isFunction(onStateChanged) && onStateChanged(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { enabled } = this.state;\r\n    \r\n    // Isolate special props and store the remaining as restProps\r\n    const { enabled: _enabled, theme, onClick, className, onStateChanged, ...restProps } = this.props;\r\n\r\n    // Use default as a fallback theme if valid theme is not passed\r\n    const switchTheme = (theme && isString(theme)) ? theme : 'default';\r\n\r\n    const switchClasses = classnames(\r\n      `switch switch--${switchTheme}`,\r\n      className\r\n    )\r\n\r\n    const togglerClasses = classnames(\r\n      'switch-toggle',\r\n      `switch-toggle--${enabled ? 'on' : 'off'}`\r\n    )\r\n\r\n    return (\r\n      <div className={switchClasses} onClick={this.toggleSwitch} {...restProps}>\r\n        <div className={togglerClasses}></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nToggable.propTypes = {\r\n  theme: PropTypes.string,\r\n  enabled: PropTypes.oneOfType([\r\n    PropTypes.bool,\r\n    PropTypes.func\r\n  ]),\r\n  onStateChanged: PropTypes.func\r\n}\r\n\r\nexport default Toggable;\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nimport Toggable from '../../Toggable/Toggable.js'\r\nimport axios from 'axios'\r\nimport {Link} from \"react-router-dom\";\r\nexport default class Join extends Component {\r\n \r\nconstructor(props) {\r\n  super(props)\r\n\r\n  this.state = {\r\n    userStart: null,\r\n    userEnd: null,\r\n    directions:null,\r\n    journeys: null,\r\n    journeysFiltered:[],\r\n    enabled: false \r\n  }\r\n  this.journeyService = new JourneyService();\r\n\r\n}\r\ngetJourneys = ()=>{\r\n  this.journeyService.\r\n  userJourneysAccess()\r\n  .then(data=>this.setState({ journeys:data }))\r\n}\r\n\r\ntoggleNotifications = ({ enabled }) => {\r\n  \r\n  this.setState({\r\n    enabled\r\n    \r\n  });\r\n};\r\n\r\nstartInfo = (userStart) => {\r\n    this.setState({ ...this.state, userStart })\r\n  \r\n}\r\nendInfo = (userEnd) => {\r\n    this.setState({ ...this.state, userEnd })\r\n        \r\n}\r\n\r\n\r\nfilterByDistance = ()=>{\r\n  if(this.state.journeysFiltered.length === 0){\r\n  this.state.journeys.forEach((e)=>{\r\n  \r\n  if (((e.coorstart.lat < (this.state.userStart.lat + 0.01)) && (e.coorstart.lat > (this.state.userStart.lat - 0.01))) && ((e.coorstart.lng < (this.state.userStart.lng + 0.01))\r\n   && (e.coorstart.lng > (this.state.userStart.lng - 0.01))) &&  ((e.coorend.lat < (this.state.userEnd.lat + 0.01) && (e.coorend.lat > (this.state.userEnd.lat - 0.01))) && ((e.coorend.lng < (this.state.userEnd.lng + 0.01))\r\n   &&(e.coorend.lng > (this.state.userEnd.lng - 0.01))))){\r\n     \r\n    this.state.journeysFiltered.push(e);\r\n   \r\n    \r\n  }console.log(this.state.journeysFiltered)\r\n  })}\r\n}\r\n\r\n\r\n\r\n\r\n// wantToJoinAddingStop = () =>{\r\n//   let pointInTheWay=this.routes[0].overview_path;\r\n//   console.log(pointInTheWay)\r\n  \r\n//   this.state.journeys.forEach((e)=>{\r\n//     pointInTheWay.forEach(point => {\r\n//       // point.lat(), pont.lng();\r\n//       console.log(\"entra\")\r\n//       console.log(point.lat())\r\n//       if ((e.coordend.lat < (this.state.userEnd.lat + 0.01) && (e.coordend.lat > (this.state.userEnd.lat - 0.01))) && ((e.coordend.lng < (this.state.userEnd.lng + 0.01))\r\n//       &&(e.coordend.lng > (this.state.userEnd.lng - 0.01)))\r\n//       &&  ((point.lat() < (this.state.coorAsked.lat + 0.01) && (point.lat() > (this.state.coorAsked.lat - 0.01))) && ((point.lng() < (this.state.coorAsked.lng + 0.01))\r\n//       &&(point.lng() > (this.state.coorAsked.lng - 0.01))))) {\r\n//         this.state.journeysCloseToMyStartPoint.push(e)\r\n//       }console.log(this.state.journeysCloseToMyStartPoint)\r\n//     })\r\n//   })\r\n// }\r\n\r\n// getDistance =() =>{\r\n//   let DirectionsService = new window.google.maps.DirectionsService();\r\n//   this.state.journeys.forEach((e)=>{\r\n//   // let pointInTheWaylat=this.routes[0].overview_path[0].lat();\r\n//   // let pointInTheWaylng=this.routes[0].overview_path[0].lng();\r\n//   if (this.coorAsked){\r\n//   DirectionsService.route(\r\n//     {\r\n//       origin: new window.google.maps.LatLng(this.coorAsked.lat,this.coorAsked.lng),\r\n//       destination: new window.google.maps.LatLng(e.this.routes[0].overview_path[0].lat(),e.this.routes[0].overview_path[0].lng()),\r\n//       travelMode: window.google.maps.TravelMode.WALKING,\r\n//     },(result, status) => {\r\n//       console.log(result)\r\n//     })\r\n//   }\r\n//     console.log(DirectionsService)\r\n// })}\r\n\r\n\r\n\r\nsortByDate = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.date > b.date) ? 1 : ((b.date > a.date) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  \r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByTime = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.time > b.time) ? 1 : ((b.time > a.time) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByCompany = () =>{\r\n  \r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.company > b.company) ? 1 : ((b.company > a.company) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  \r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByPlaces = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.places> b.places) ? 1 : ((b.places > a.places) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\n// sortByDistanceWalkingToMyStartPoint = () =>{\r\n  \r\n//   let sortedArray= this.state.journeysFiltered.sort((a,b) => (a.company > b.company) ? 1 : ((b.company > a.company) ? -1 : 0))\r\n//   console.log(this.state.journeysFiltered)\r\n//   this.setState({journeysFiltered:sortedArray})\r\n//  }\r\n\r\nsortByDistance = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.distance > b.distance) ? 1 : ((b.distance > a.distance) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\n sortByDuration = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.duration > b.duration) ? 1 : ((b.duration > a.duration) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n } \r\n sortByPrice = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.price > b.price) ? 1 : ((b.price > a.price) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n } \r\n\r\ncomponentDidMount() {\r\n  this.getJourneys();\r\n}\r\n\r\n\r\n  render() {\r\n    console.log(this.state.journeysFiltered)\r\n\r\n    const funciona = this.state.userEnd==null ?(\r\n      <p></p>\r\n  ):(\r\n       \r\n        console.log(this.filterByDistance())\r\n  );\r\n\r\n\r\nconst { enabled } = this.state;\r\n\r\n\r\n    return (\r\n      \r\n      <div className='cont'>\r\n       \r\n       {funciona}\r\n         <Nav />\r\n          <div className='join-block'>\r\n        \r\n     \r\n\r\n\r\n         <div  className='userJourney'>\r\n\r\n         <AutocompleteStart update={this.startInfo}/>\r\n         <AutocompleteEnd update={this.endInfo}/>     \r\n\r\n         </div>\r\n\r\n \r\n           <div className='filters'>\r\n           <div className= 'toggle'>\r\n             <p>Filters:</p>\r\n            <Toggable\r\n              theme=\"default\" \r\n              enabled={enabled}\r\n              onStateChanged={this.toggleNotifications}\r\n            />\r\n            </div>\r\n\r\n          {enabled && (\r\n            <div>\r\n              <button onClick={this.sortByCompany}>company</button>\r\n              <button onClick={this.sortByDate}>Date</button>\r\n              <button onClick={this.sortByTime}>time</button>\r\n              <button onClick={this.sortByDistance}>distance</button>\r\n              <button onClick={this.sortByPrice}>price</button>\r\n              <button onClick={this.sortByDuration}>duration</button>\r\n            </div>\r\n          )}\r\n        </div>  \r\n\r\n<div>\r\n  {this.state.journeysFiltered.map(journey => (\r\n  <Link key={journey._id} to={`/journeys/${journey._id}`}>\r\n    <div>\r\n      <div className = 'journey-target'>\r\n        <img className='user-join-img' src={journey.imgPath} alt=\"\"/>\r\n      <div>\r\n        <p>{journey.username}</p>\r\n        <h1>{journey.company}</h1>\r\n        <p>{journey.date}</p>\r\n        <p>{journey.distance}</p>\r\n        <p>{journey.duration}</p>\r\n        <p>{journey.time}</p>\r\n        <p>{journey.price}</p>\r\n      </div>  \r\n      </div>\r\n    </div>\r\n  </Link>\r\n))}\r\n</div>\r\n\r\n</div>\r\n</div>\r\n     \r\n    )\r\n  }\r\n}","import axios from \"axios\";\r\n\r\nclass NotificationsService{\r\nconstructor(props) {\r\n  \r\n  this.service = axios.create({\r\n    baseURL: \"http://localhost:5000/api/notifications\",\r\n    withCredentials: true\r\n  })\r\n\r\n}\r\n\r\ncreate = (data) => {\r\n  return this.service.post('/create', data)\r\n  .then(response => response.data)\r\n}\r\nstatus = (data) => {\r\n  return this.service.post('/status', data)\r\n  .then(response => response.data)\r\n}\r\nsentNotifs = (data) => {\r\n  return this.service.get('/sentNotifications', data)\r\n  .then(response => response.data)\r\n}\r\n\r\nplacesChange = (data) => {\r\n  return this.service.post('/change', data)\r\n  .then(response => response.data)\r\n}\r\n\r\ngetNotifications = (data) => {\r\n  return this.service.get('/show', data)\r\n  .then(response => response.data)\r\n}\r\n\r\n}\r\n\r\n\r\nexport default NotificationsService;","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass Autocomplete extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'Search Places ...',\r\n                    className: 'location-search-input',\r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className,\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default Autocomplete;","import \"./_map.scss\";\r\nimport React, { Component } from \"react\";\r\nimport JourneyService from '../../Service/JourneyService.js'\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport AutocompleteStart from \"./AutocompleteStart\";\r\nimport AutocompleteEnd from \"./AutocompleteEnd\";\r\nimport AutocompleteAsked from \"./AutocompleteAsked\";\r\nimport companies from \"../../companies.json\";\r\nimport startpoints from \"../../startpoints.json\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Mapas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      coorstart: null,\r\n      coorend: null,\r\n\r\n      coorAsked: null,\r\n\r\n      position: { lat: 40.416947, lng: -3.703523 },\r\n      companies,\r\n      startpoints,\r\n      places:3,\r\n      map: false,\r\n      redirect:false\r\n    };\r\n    this.MapWithADirectionsRenderer = null;\r\n    this.map = null;\r\n    this.journeyService = new JourneyService();\r\n  }\r\n\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance)\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n\r\n    this.setState({ ...this.state, coorAsked });\r\n\r\n  };\r\n\r\n  handleInfo = () => {\r\n    let coord = this.state.coorstart;\r\n    this.props.infoMaps(coord);\r\n  };\r\n\r\n  // comodin = (distance, duration,price) => {\r\n  //     if(this.distance !== distance || this.duration !== duration )\r\n  //       this.setState({...this.state, distance, duration,price, map:true})\r\n  // }\r\n\r\n  componentWillMount=()=>{\r\n\r\n    this.setState({...this.state, coorstart:this.props.startPoint , coorend: this.props.endPoint})\r\n\r\n  }\r\n  createMap = (fnc, mapGoogle) => {\r\n    const coorstart = this.state.coorstart;\r\n    const coorend = this.state.coorend;\r\n    const coorAsked = this.state.coorAsked;\r\n    \r\n\r\n    const map = compose(\r\n      withProps({\r\n        googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n        loadingElement: <div style={{ height: `100%` }} />,\r\n        containerElement: <div style={{ height: `400px`, width: `600px` }} />,\r\n        mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n      }),\r\n      withScriptjs,\r\n      withGoogleMap,\r\n      lifecycle({\r\n        componentDidMount() {\r\n          let google = window.google;\r\n          if (coorend && coorstart) {\r\n            let DirectionsService = new google.maps.DirectionsService();\r\n            DirectionsService.route(\r\n              {\r\n                origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                travelMode: google.maps.TravelMode.DRIVING,\r\n\r\n                //  waypoints: [\r\n                //   {\r\n                //     location: new google.maps.LatLng(\r\n                //       coorAsked.lat,\r\n                //       coorAsked.lng\r\n                //     )\r\n                //   }\r\n                // ]\r\n\r\n               \r\n              },\r\n              (result, status) => {\r\n                if (status === google.maps.DirectionsStatus.OK) {\r\n                  \r\n                  this.setState(\r\n                    {\r\n                      directions: result,\r\n                      distance:\r\n                        (\r\n                          result.routes[0].legs[0].distance.value / 1000 \r\n\r\n                        //   result.routes[0].legs[1].distance.value / 1000\r\n\r\n                        ).toFixed(2)\r\n                          .toString()\r\n                          .replace(\".\", \",\") + \" Km\",\r\n                      duration:\r\n                        Math.floor(\r\n\r\n                          (result.routes[0].legs[0].duration.value / 3600 //+\r\n                            /* result.routes[0].legs[1].duration.value / 3600 */) *\r\n\r\n                            60\r\n                        ) + \" min\",\r\n                      price:(parseFloat(result.routes[0].legs[0].distance.value / 1000)* (6 / 100) * 1.3 * 2).toFixed(2) + \" \" ,\r\n                      start_point: result.routes[0].legs[0].start_address,\r\n                      start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                      start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                      end_point: result.routes[0].legs[0].end_address,\r\n                      end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                      end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                    },\r\n                    () => {\r\n                      \r\n                      // let price = parseFloat(this.state.distance) * (6 / 100) * 1.3 * 2 + \" \";\r\n                      \r\n                      var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                      var tempPointlng = result.routes[0].overview_path[0].lng();\r\n                      \r\n                      console.log(tempPointlat, tempPointlng);\r\n                      // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                    }\r\n                  );\r\n                } else {\r\n                  console.error(`error fetching directions ${result}`);\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      })\r\n    )(props => {\r\n        \r\n        return(\r\n      <GoogleMap\r\n        defaultZoom={13}\r\n        defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n      >\r\n        {props.directions && (\r\n          <DirectionsRenderer directions={props.directions} />\r\n        )}\r\n        {/* {this.state.companies.map((company, i) => {\r\n          return (\r\n            <Marker\r\n              key={i}\r\n              position={{\r\n                lat: +company.position.lat.$numberDouble,\r\n                lng: +company.position.lng.$numberDouble\r\n              }}\r\n            />\r\n          );\r\n        })} */}\r\n      </GoogleMap>\r\n    )});\r\n    \r\n    return map;\r\n  };\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {company,places,date,time,price,description,distance,duration,coorstart,coorend} = this.state;\r\n    this.journeyService.userJourneysCreate({company,places,date,time,description,price,distance,duration,coorstart,coorend})\r\n   this.setState({redirect:true})\r\n  }\r\nhandleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    this.setState({...this.state,[name]: value});\r\n  }\r\n\r\n// componentWillUpdate() {\r\n//     this.map = this.createMap(this.comodin, this.state.map)();\r\n// }\r\n  render() {\r\n    this.map = this.createMap(this.comodin, this.state.map)();\r\n    console.log(this.state);\r\n    if(this.state && this.state.redirect) {\r\n        return <Redirect to=\"/home\" />\r\n      }\r\n    return (\r\n      <div>\r\n       \r\n\r\n      \r\n        {/* <AutocompleteAsked update={this.updateCoorAsked} /> */}\r\n        {/* <MapWithADirectionsRenderer /> */}\r\n        {this.map}\r\n    </div>\r\n    );\r\n  }\r\n}","import \"../../Mapas/_map.scss\";\r\nimport React, { Component } from 'react'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport NotificationsService from '../../../Service/NotificationsService';\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport AutocompleteAsked from \"../../Mapas/AutocompleteAsked\";\r\n\r\nimport Mapswithoutformwithmiddle from '../../Mapas/Mapwithoutform';\r\nimport axios from 'axios'\r\nimport { Link } from \"react-router-dom\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Askstop extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      journey: {},\r\n      places: null,\r\n\r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance)\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n    this.setState({ ...this.state, coorAsked} , () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n  });\r\n};\r\n  getJourney = url => {\r\n    return axios\r\n      .get(`http://localhost:5000/api/journeys/${url}`)\r\n      .then(journey =>\r\n        this.setState({\r\n          ...this.state,\r\n          journey: (this.props.match.params.id) ? journey.data : journey.data[0]\r\n\r\n        })\r\n\r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  componentWillMount = () => {\r\n\r\n    this.setState({ ...this.state, coorstart: this.props.startPoint, coorend: this.props.endPoint, coorAsked: this.props.coorAsked })\r\n  }\r\n    createMap = (fnc, mapGoogle) => {\r\n      const coorstart = this.state.coorstart;\r\n      const coorend = this.state.coorend;\r\n      const coorAsked = this.state.coorAsked;\r\n\r\n      const map = compose(\r\n        withProps({\r\n          googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n          loadingElement: <div style={{ height: `100%` }} />,\r\n          containerElement: <div style={{ height: `400px`, width: `600px` }} />,\r\n          mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n        }),\r\n        withScriptjs,\r\n        withGoogleMap,\r\n        lifecycle({\r\n          componentDidMount() {\r\n            if (this.props.match.params.id) {\r\n              this.getJourney(`journeys/${this.props.match.params.id}`);\r\n            } else {\r\n              console.log('loading...')\r\n            }\r\n\r\n            let google = window.google;\r\n            if (coorend && coorstart) {\r\n              let DirectionsService = new google.maps.DirectionsService();\r\n              DirectionsService.route(\r\n                {\r\n                  origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                  destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                  travelMode: google.maps.TravelMode.DRIVING,\r\n                   waypoints: [\r\n                    {\r\n                      location: new google.maps.LatLng(\r\n                        coorAsked.lat,\r\n                        coorAsked.lng\r\n                      )\r\n                    }\r\n                  ]\r\n\r\n                },\r\n                (result, status) => {\r\n                  if (status === google.maps.DirectionsStatus.OK) {\r\n\r\n                    this.setState(\r\n                      {\r\n                        directions: result,\r\n                        distance:\r\n                          (\r\n                            result.routes[0].legs[0].distance.value / 1000\r\n                            + result.routes[0].legs[1].distance.value / 1000\r\n                          ).toFixed(2)\r\n                            .toString()\r\n                            .replace(\".\", \",\") + \" Km\",\r\n                        duration:\r\n                          Math.floor(\r\n                            (result.routes[0].legs[0].duration.value / 3600\r\n                            + result.routes[0].legs[1].duration.value / 3600 ) *\r\n                            60\r\n                          ) + \" min\",\r\n                        price: (parseFloat(result.routes[0].legs[0].distance.value / 1000) * (6 / 100) * 1.3 * 2).toFixed(2) + \" \",\r\n                        start_point: result.routes[0].legs[0].start_address,\r\n                        start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                        start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                        end_point: result.routes[0].legs[0].end_address,\r\n                        end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                        end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                      },\r\n                      () => {\r\n\r\n                    \r\n\r\n                        // var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                        // var tempPointlng = result.routes[0].overview_path[0].lng();\r\n\r\n                        // console.log(tempPointlat, tempPointlng);\r\n                        // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                      }\r\n                    );\r\n                  } else {\r\n                    console.error(`error fetching directions ${result}`);\r\n                  }\r\n                }\r\n              );\r\n            }\r\n          }\r\n        })\r\n      )(props => {\r\n\r\n        return (\r\n          <GoogleMap\r\n            defaultZoom={13}\r\n            defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n          >\r\n            {props.directions && (\r\n              <DirectionsRenderer directions={props.directions} />\r\n            )}\r\n\r\n          </GoogleMap>\r\n        )\r\n      });\r\n    \r\n      return map;\r\n    };\r\n  \r\n  \r\n//   applyForPlace = () => {\r\n\r\n//     if (this.state.journey.journey.places > 0) {\r\n//       let receptorId = this.state.journey.journey.authorId;\r\n//       let type = 'reqPlace';\r\n//       let journeyId = this.state.journey.journey._id;\r\n//       let company = this.state.journey.journey.company;\r\n\r\n//       this.notificationsService.create({ receptorId, type, company, journeyId })\r\n//       // this.state.notifications.push(`${passenger.name} has booked a place in your journey ${journey.id}`)\r\n//     } else {\r\n//       return -1\r\n//     }\r\n\r\n//   }\r\n// }\r\n\r\n\r\n// componentDidMount() {\r\n//   if (this.props.match.params.id) {\r\n//     this.getJourney(`journeys/${this.props.match.params.id}`);\r\n//   } else {\r\n//    console.log('loading...')\r\n//   }\r\n// }\r\n\r\n\r\nrender() {\r\n  console.log(this.state)\r\n  const painter =\r\n\r\n    this.state.journey.journey ? (\r\n      <div>\r\n\r\n        \r\n        <Mapswithoutformwithmiddle startPoint={this.state.journey.journey.coorstart} endPoint={this.state.journey.journey.coorend} />\r\n      </div>\r\n    ) : (\r\n        <p>loading..</p>\r\n      );\r\n\r\n\r\n  console.log(this.state.journey)\r\n  if (this.state.journey.journey)\r\n    console.log(this.state.journey.journey.company)\r\n  return (\r\n    <div>\r\n      {painter}\r\n\r\n      <button onClick={this.applyForPlace}>apply</button>\r\n    </div>\r\n  );\r\n}\r\n  }\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport NotificationsService from '../../Service/NotificationsService';\r\nimport Mapswithoutform from '../Mapas/Mapwithoutform';\r\nexport default class JourneySelected extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      journey:{},\r\n      places:null,\r\n     \r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  getJourney = url => {\r\n    return axios\r\n      .get(`http://localhost:5000/api/journeys/${url}`)\r\n      .then(journey =>\r\n        this.setState({\r\n          ...this.state,\r\n          journey: (this.props.match.params.id) ? journey.data : journey.data[0]\r\n          \r\n        })\r\n        \r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  applyForPlace = () =>  {\r\n    \r\n    if (this.state.journey.journey.places > 0) {\r\n        let receptorId = this.state.journey.journey.authorId;\r\n        let type = 'reqPlace';\r\n        let journeyId = this.state.journey.journey._id;\r\n        let company = this.state.journey.journey.company;\r\n\r\n        this.notificationsService.create({receptorId,type,company,journeyId})\r\n        // this.state.notifications.push(`${passenger.name} has booked a place in your journey ${journey.id}`)\r\n    } else {\r\n        return -1\r\n    }\r\n  \r\n}\r\n// getcoorstart =()=>{\r\n//   if (this.state.journey.journey){\r\n//     return this.state.journey.journey.coorstart\r\n//   }\r\n// console.log(this.getcoorstart())\r\n  \r\n// }\r\n\r\n\r\n// getcoorend =()=>{\r\n//   if (this.state.journey.journey){\r\n//     return this.state.journey.journey.coorend\r\n//   }\r\n  \r\n// }\r\n// getPlaces = ( ) =>{\r\n//   this.state.journey.journey?(\r\n//     this.setState({places:this.state.journey.journey.places})\r\n//   ):(\r\n//     console.log('kjassazs')\r\n//   )\r\n// }\r\n\r\n  \r\n    componentDidMount() {\r\n      if (this.props.match.params.id) {\r\n        this.getJourney(`journeys/${this.props.match.params.id}`);\r\n      } else {\r\n       console.log('loading...')\r\n      }\r\n    }\r\n\r\n  \r\n  render() {\r\n    console.log(this.state)\r\n\r\n\r\nconst painter = \r\n\r\nthis.state.journey.journey?(\r\n  <div>\r\n  <p>{this.state.journey.journey.company}</p>\r\n  <p>{this.state.journey.journey.date}</p>\r\n  <p>{this.state.journey.journey.time}</p>\r\n  <p>{this.state.journey.journey.price}</p>\r\n  <p>{this.state.journey.journey.duration}</p>\r\n  \r\n  <Mapswithoutform startPoint ={this.state.journey.journey.coorstart} endPoint ={this.state.journey.journey.coorend} />\r\n  </div>\r\n):(\r\n  <p>loading..</p>\r\n);\r\n\r\n\r\nconsole.log(this.state.journey)\r\nif(this.state.journey.journey)\r\nconsole.log(this.state.journey.journey.company)\r\n    return (\r\n      <div>\r\n       {painter}\r\n   \r\n       <button onClick={this.applyForPlace}>apply</button>\r\n      </div>\r\n    )\r\n  }\r\n}","import \"./_map.scss\";\r\nimport React, { Component } from \"react\";\r\nimport JourneyService from \"../../Service/JourneyService.js\";\r\nimport AuthService from \"../../Service/AuthService.js\";\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AutocompleteStart from \"./AutocompleteStart\";\r\nimport AutocompleteEnd from \"./AutocompleteEnd\";\r\nimport AutocompleteAsked from \"./AutocompleteAsked\";\r\nimport companies from \"../../companies.json\";\r\nimport startpoints from \"../../startpoints.json\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Mapas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      coorstart: null,\r\n      coorend: null,\r\n      cooAsked: null,\r\n      position: { lat: 40.416947, lng: -3.703523 },\r\n      companies,\r\n      startpoints,\r\n      places: 3,\r\n      map: false,\r\n      places: 3,\r\n      redirect: false,\r\n      user:null\r\n\r\n    };\r\n    this.MapWithADirectionsRenderer = null\r\n    this.map = null\r\n    this.journeyService = new JourneyService()\r\n    this.authService = new AuthService()\r\n    this.fetchUser()\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.map = this.createMap(this.comodin, this.state.map)();\r\n\r\n   \r\n   \r\n  }\r\n\r\n\r\n  fetchUser = () => {\r\n    this.authService\r\n      .loggedin()\r\n      .then(user => this.setState({ ...this.state, user }));\r\n  };\r\n\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance);\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n    this.setState({ ...this.state, coorAsked });\r\n  };\r\n\r\n  handleInfo = () => {\r\n    let coord = this.state.coorstart;\r\n    this.props.infoMaps(coord);\r\n  };\r\n\r\n  comodin = (distance, duration, price) => {\r\n    if (this.distance !== distance || this.duration !== duration)\r\n      this.setState({ ...this.state, distance, duration, price, map: true });\r\n  };\r\n\r\n  createMap = (fnc, mapGoogle) => {\r\n    const coorstart = this.state.coorstart;\r\n    const coorend = this.state.coorend;\r\n    const coorAsked = this.state.coorAsked;\r\n\r\n    const map = compose(\r\n      withProps({\r\n        googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n        loadingElement: <div style={{ height: `100%` }} />,\r\n        containerElement: <div style={{ height: `80vh`, width: `50vw` }} />,\r\n        mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n      }),\r\n      withScriptjs,\r\n      withGoogleMap,\r\n      lifecycle({\r\n        componentDidMount() {\r\n          let google = window.google;\r\n          if (coorend && coorstart) {\r\n            let DirectionsService = new google.maps.DirectionsService();\r\n            DirectionsService.route(\r\n              {\r\n                origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                travelMode: google.maps.TravelMode.DRIVING\r\n                // waypoints: [\r\n                //   {\r\n                //     location: new google.maps.LatLng(\r\n                //       coorAsked.lat,\r\n                //       coorAsked.lng\r\n                //     )\r\n                //   }\r\n                // ]\r\n              },\r\n              (result, status) => {\r\n                if (status === google.maps.DirectionsStatus.OK) {\r\n                  this.setState(\r\n                    {\r\n                      directions: result,\r\n                      distance: (result.routes[0].legs[0].distance.value / 1000)\r\n                        //   result.routes[0].legs[1].distance.value / 1000\r\n\r\n                        .toFixed(2)\r\n                        .toString()\r\n                        .replace(\".\", \",\"),\r\n                      duration: Math.floor(\r\n                        (result.routes[0].legs[0].duration.value / 3600) * //+\r\n                          /* result.routes[0].legs[1].duration.value / 3600 */ 60\r\n                      ),\r\n                      price: (\r\n                        parseFloat(\r\n                          result.routes[0].legs[0].distance.value / 1000\r\n                        ) *\r\n                        (6 / 100) *\r\n                        1.3 *\r\n                        2\r\n                      ).toFixed(2),\r\n\r\n                      start_point: result.routes[0].legs[0].start_address,\r\n                      start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                      start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                      end_point: result.routes[0].legs[0].end_address,\r\n                      end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                      end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                    },\r\n                    () => {\r\n                      // let price = parseFloat(this.state.distance) * (6 / 100) * 1.3 * 2 + \" \";\r\n                      console.log(this.price);\r\n                      console.log(this.state);\r\n                      var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                      var tempPointlng = result.routes[0].overview_path[0].lng();\r\n                      fnc(\r\n                        this.state.distance,\r\n                        this.state.duration,\r\n                        this.state.price\r\n                      );\r\n                      console.log(tempPointlat, tempPointlng);\r\n                      // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                    }\r\n                  );\r\n                } else {\r\n                  console.error(`error fetching directions ${result}`);\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      })\r\n    )(props => {\r\n      return (\r\n        <GoogleMap\r\n          defaultZoom={10}\r\n          defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n        >\r\n          {props.directions && (\r\n            <DirectionsRenderer directions={props.directions} />\r\n          )}\r\n          {/* {this.state.companies.map((company, i) => {\r\n          return (\r\n            <Marker\r\n              key={i}\r\n              position={{\r\n                lat: +company.position.lat.$numberDouble,\r\n                lng: +company.position.lng.$numberDouble\r\n              }}\r\n            />\r\n          );\r\n        })} */}\r\n        </GoogleMap>\r\n      );\r\n    });\r\n\r\n    return map;\r\n  };\r\n\r\n  handleFormSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const {\r\n      company,\r\n      places,\r\n      date,\r\n      time,\r\n      price,\r\n      description,\r\n      distance,\r\n      duration,\r\n      coorstart,\r\n      coorend\r\n    } = this.state;\r\n    const imgPath = this.state.user.imgPath\r\n    const username = this.state.user.username\r\n    this.journeyService.userJourneysCreate({\r\n      company,\r\n      places,\r\n      date,\r\n      time,\r\n      description,\r\n      price,\r\n      distance,\r\n      duration,\r\n      coorstart,\r\n      coorend,\r\n      username,\r\n      imgPath\r\n    });\r\n    this.setState({ redirect: true });\r\n  };\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({ ...this.state, [name]: value });\r\n  };\r\n \r\n  // componentWillUpdate() {\r\n  //     this.map = this.createMap(this.comodin, this.state.map)();\r\n  // }\r\n  render() {\r\n    console.log(this.state.user);\r\n    if (this.state && this.state.redirect) {\r\n      return <Redirect to=\"/profile\" />;\r\n    }\r\n    return (\r\n      <div className=\"createSection\">\r\n        {this.map}\r\n        {/* {this.state.companies.map(company => { return <div> {company.name}</div> })} */}\r\n        <div className=\"formulary\">\r\n          {/* <p>{this.state.distance}</p> */}\r\n\r\n          <div className=\"journeyInfo-block\">\r\n            <div className='info-text'>\r\n              <div className=\"journeyInfo\">\r\n                <p>{this.state.duration}</p>\r\n              </div>\r\n              <p>mins</p>\r\n            </div>\r\n\r\n            <div className='info-text'>\r\n              <div className=\"journeyInfo\">\r\n                <p>{this.state.price}</p>\r\n              </div>\r\n              <p>eur</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"autoComplete\">\r\n            <AutocompleteStart update={this.updateCoorstart} />\r\n            <AutocompleteEnd update={this.updateCoorend} />\r\n          </div>\r\n          <form className=\"inputs\" onSubmit={this.handleFormSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"company\"\r\n              placeholder=\"Company name\"\r\n              onChange={e => this.handleChange(e)}\r\n              className=\"inputCompany\"\r\n            />\r\n\r\n            <br />\r\n\r\n            <div>\r\n              <input\r\n                type=\"date\"\r\n                name=\"date\"\r\n                \r\n                onChange={e => this.handleChange(e)}\r\n                className=\"inputDate\"\r\n              />\r\n              <input\r\n                type=\"time\"\r\n                name=\"time\"\r\n                onChange={e => this.handleChange(e)}\r\n                className=\"inputTime\"\r\n              />\r\n            </div>\r\n            <textarea\r\n              type=\"text\"\r\n              name=\"description\"\r\n              placeholder=\"Requirements to travel with you ...\"\r\n              onChange={e => this.handleChange(e)}\r\n              className=\"inputDescription\"\r\n            />\r\n\r\n            <button type=\"submit\" value=\"submit\" className=\"btn\">\r\n              submit\r\n              <div className=\"ico\">\r\n                <i className=\"fa fa-paper-plane\" />\r\n              </div>\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport Mapa from '../../Mapas/Mapas.js'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nexport default class Join extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      \r\n    }\r\n    this.journeyService = new JourneyService();\r\n  }\r\n\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {company,places,date,time,description,distance,duration,startPoint,endPoint} = this.state;\r\n\r\n    this.journeyService.userJourneysCreate({company,places,date,time,description,distance,duration,startPoint,endPoint})\r\n   \r\n  }\r\n  \r\nstartPoint = (info) =>{\r\n  this.setState({\r\n    startPoint: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n\r\nendPoint = (info) =>{\r\n  this.setState({\r\n    endPoint: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n \r\ndistance = (info) =>{\r\n  this.setState({\r\n    distance: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n\r\nhandleChange = (e) => {\r\n  const {name, value} = e.target;\r\n  this.setState({...this.state,[name]: value});\r\n}\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n         \r\n         <Nav />\r\n    <Mapa startPoint={this.startPoint} endPoint={this.endPoint} user={this.props.username} distance={this.distance}/>               \r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Login from '../../auth/Login'\r\nimport Signup from '../../auth/Signup'\r\nimport { Route, Link, Switch, Redirect, Router } from \"react-router-dom\";\r\n\r\nexport default class LoginSignup extends Component {\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n        <div className='loginSignupBody'>\r\n\t\t\t\t<img className='logo' src=\"../../../../images/EasyGo-white.svg\" alt=\"\"/>\r\n\t\t\t\t<h1 className='easy-go'>easy go</h1>\r\n\r\n        <Link className='button btn-log' to='/login'>Log in</Link>\r\n\t\t\t\t<Link className='button btn-sign' to='/signup'>Sign up</Link>\r\n\t\t\t\t</div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport NotificationsService from '../../../Service/NotificationsService.js'\r\nimport Nav from '../../../components/Nav/Nav.js'\r\n\r\nexport default class Notifications extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n       notifications:[],\r\n       newNotifications:[]\r\n       \r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  getNotifications = () =>{\r\n    this.notificationsService.\r\n    getNotifications()\r\n    .then(data=>this.setState({ notifications:data }))\r\n  }\r\n  paintNotifications = () =>{\r\n    let array = []\r\n    this.state.notifications?(\r\n      \r\n      this.state.notifications.forEach(e => {\r\n        array.push(e)\r\n        this.setState({newNotifications: array})\r\n      })\r\n       \r\n    ):(\r\n      console.log('not found')\r\n    )\r\n  }\r\n  \r\n   acceptPassenger = ( notifId,journeyId,author,receptor) =>  {\r\n      const idNotification = notifId;\r\n      const status = 'Accepted';\r\n      const authorId = receptor;\r\n      const receptorId = author;\r\n\r\n\r\n      this.notificationsService.status({status,idNotification,journeyId,authorId,receptorId})\r\n      .then(console.log)\r\n  }\r\n\r\n\r\n  //  denyPassenger = () =>  {\r\n  //         if (this.places > 0) {\r\n  //             this.places = (this.places) + 1\r\n  //             this.state.notifications.push(`${driver.name} has denied your request`)\r\n  //         }\r\n  //     }\r\n\r\n  //  newStop = () => {\r\n  //     this.state.notifications.push(`${passenger.name} has suggested a new stop in the journey ${journey.id}`)\r\n  // }\r\n  //  acceptNewRoute = () => {\r\n  //     this.state.notifications.push(`${driver.name} has accepted your change with the next conditions:`)\r\n  // }\r\n  //  denyNewRoute = () => {\r\n  //     this.state.notifications.push(`${driver.name} has denied your change`)\r\n  // }\r\n\r\n  componentDidMount(){\r\n    this.getNotifications()\r\n   this.paintNotifications()\r\n  }\r\n\r\n  render() {\r\n\r\n// const paint =\r\n    // this.state.notifications.length !== 0 ? \r\n    // <p>{this.state.notifications.company}</p>\r\n    // :<p>loading..</p>\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        {Array.isArray(this.state.notifications) && this.state.notifications.map((notification,i)=> {\r\n          return (\r\n            <div className='notifs-block'>\r\n              <Nav />\r\n\r\n              {notification.type=='reqPlace' && notification.status == 'Pending'?(\r\n                \r\n            <div className=\"Message\">\r\n                <div className=\"Message-icon\">\r\n                  <i className=\"fa fa-bell-o\"></i>\r\n                </div>\r\n                <div className=\"Message-body\">\r\n                <p>{notification.company}</p>\r\n                  <button className=\"Message-button\" key={notification._id} onClick={(e)=>this.acceptPassenger(notification._id, notification.journeyId, notification.authorId, notification.receptorId)}>Accept</button>\r\n                  <button className=\"Message-button\">Deny</button>\r\n                </div>\r\n                <button className=\"Message-close js-messageClose\"><i class=\"fa fa-times\"></i></button>\r\n            </div>\r\n               \r\n              ):(\r\n                <div></div>\r\n              )}\r\n\r\n              {notification.type=='resPlace'?(\r\n              <div>\r\n                 <button>pay</button>\r\n               </div>\r\n              ):(\r\n                <div>\r\n                \r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n            )\r\n        })}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"./styles.scss\"\r\nimport { Route, Link, Switch, Redirect, Router } from \"react-router-dom\";\r\nimport Signup from \"./components/auth/Signup\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Home from \"./components/sections/Home/Home.js\";\r\nimport AuthService from \"./Service/AuthService\";\r\nimport ProfileInfo from \"./components/sections/ProfileInfo/ProfileInfo\";\r\nimport Join from './components/sections/Join/Join.js';\r\nimport Askstop from './components/sections/Askstop/Askstop.js';\r\nimport JourneySelected from './components/JourneySelected/JourneySelected.js';\r\nimport Create from './components/sections/Create/Create.js';\r\nimport LoginSignup from './components/sections/LoginSignup/LoginSignup.js';\r\nimport Notifications from './components/sections/Notifications/Notifications';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      user: null,\r\n    };\r\n\r\n    this.authService = new AuthService();\r\n\r\n    this.fetchUser();\r\n  }\r\n\r\n  fetchUser = () => {\r\n    this.authService\r\n      .loggedin()\r\n      .then(user => this.setState({ ...this.state, user }));\r\n  };\r\n\r\n  getUser = user => {\r\n    this.setState({ ...this.state, user });\r\n  };\r\n\r\n  logout = () => {\r\n    this.authService\r\n      .logout()\r\n      .then(() => this.setState({ ...this.state, user: null }));\r\n  };\r\n\r\n  render() {\r\n\r\n    const welcome = this.state.user ? (\r\n      <div>\r\n        \r\n \r\n       \r\n        <Link to='/login' className='logout' onClick={this.logout}>Logout</Link>\r\n\r\n \r\n\r\n         \r\n      </div>\r\n    ) : (\r\n      <div>\r\n       \r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"App\">\r\n {welcome}\r\n        {/* <p>Hola {this.state.user.username}</p> */}\r\n        <Switch>\r\n          <Route exact path=\"/singup\" render={() => <Signup getUser={this.getUser} />} />  \r\n          <Route exact path=\"/login\" render={() => <Login getUser={this.getUser} />} />  \r\n          <Route exact path=\"/\" render={() => <LoginSignup getUser={this.getUser} />} />\r\n         \r\n          <Route path=\"/join\" render={() => <Join getUser={this.getUser} />} />  \r\n          <Route path=\"/create\" render={() => <Create getUser={this.getUser}/>}/>\r\n          <Route path=\"/signup\" render={() => <Signup getUser={this.getUser} />}/>\r\n          <Route path=\"/profile\" render={() => <ProfileInfo image={this.state.user.imgPath} getUser={this.getUser} />} />\r\n          <Route exact path=\"/journeys/:id\" component={JourneySelected}/>\r\n          <Route exact path=\"/journeys/:id/askstop\" component={Askstop}/>\r\n          <Route exact path=\"/notifications\" render={() => <Notifications getUser={this.getUser} />}/>\r\n          <Route path=\"/askstop\" render={() => <Askstop getUser={this.getUser} />}/>\r\n        </Switch>\r\n  \r\n    \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}