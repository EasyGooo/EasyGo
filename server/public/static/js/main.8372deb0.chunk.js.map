{"version":3,"sources":["Service/AuthService.js","components/auth/Signup.js","components/auth/Login.js","components/Nav/Nav.js","components/sections/ProfileInfo/ProfileInfo.js","components/sections/Home/Home.js","components/Mapas/AutocompleteStart.js","components/Mapas/AutocompleteEnd.js","Service/JourneyService.js","components/Toggable/Toggable.js","components/sections/Join/Join.js","Service/NotificationsService.js","components/Mapas/AutocompleteAsked.js","components/Mapas/Mapwithoutform.js","components/sections/Askstop/Askstop.js","components/JourneySelected/JourneySelected.js","components/Mapas/Mapas.js","components/sections/Create/Create.js","components/sections/LoginSignup/LoginSignup.js","components/sections/Notifications/Notifications.js","App.js","serviceWorker.js","index.js"],"names":["AuthService","_this","this","Object","classCallCheck","signup","user","formData","FormData","keys","forEach","key","append","service","post","headers","Content-Type","then","response","data","login","change","loggedin","get","logout","axios","create","baseURL","concat","process","withCredentials","Signup","possibleConstructorReturn","getPrototypeOf","call","handleFormSubmit","e","preventDefault","_this$state","state","username","password","photo","authService","props","getUser","setState","redirect","handleChange","_e$target","target","name","value","objectSpread","files","defineProperty","_this2","react_default","a","createElement","Redirect","to","onSubmit","type","onChange","Component","Login","className","Link","data-feather","src","alt","placeholder","nav","href","id","for","xmlns","version","in","result","stdDeviation","mode","values","dx","dy","in2","ProfileInfo","email","Nav_nav","image","Autocomplete","address","console","log","handleSelect","geocodeByAddress","results","getLatLng","latLng","update","catch","error","dist_default","onSelect","_ref","getInputProps","suggestions","getSuggestionItemProps","loading","map","suggestion","active","style","backgroundColor","cursor","description","React","AutocompleteEnd","JourneyService","companies","userJourneysAccess","userJourneysCreate","userCars","Toggable","enabled","enabledFromProps","isEnabled","toggleSwitch","evt","persist","_this$props","onClick","onStateChanged","switchEvent","assign","SWITCH_STATE","isFunction","isBoolean","_this$props2","theme","restProps","objectWithoutProperties","switchTheme","isString","switchClasses","classnames","togglerClasses","Join","getJourneys","journeyService","journeys","toggleNotifications","startInfo","userStart","endInfo","userEnd","filterByDistance","journeysFiltered","length","coorstart","lat","lng","coorend","push","sortByDate","sortedArray","sort","b","date","sortByTime","time","sortByCompany","company","sortByPlaces","places","sortByDistance","distance","sortByDuration","duration","sortByPrice","price","directions","funciona","AutocompleteStart","Mapas_AutocompleteEnd","components_Toggable_Toggable","journey","_id","imgPath","NotificationsService","status","sentNotifs","placesChange","getNotifications","require","compose","withProps","lifecycle","config","Mapas","updateCoorstart","createMap","comodin","startPoint","updateCoorend","endPoint","updateCoorAsked","coorAsked","handleInfo","coord","infoMaps","componentWillMount","fnc","mapGoogle","googleMapURL","loadingElement","height","containerElement","width","mapElement","withScriptjs","withGoogleMap","componentDidMount","google","window","maps","DirectionsService","route","origin","LatLng","destination","travelMode","TravelMode","DRIVING","DirectionsStatus","OK","routes","legs","toFixed","toString","replace","Math","floor","parseFloat","start_point","start_address","start_location_lat","start_location","start_location_lng","end_point","end_address","end_location_lat","end_location","end_location_lng","tempPointlat","overview_path","tempPointlng","lib","defaultZoom","defaultCenter","position","startpoints","MapWithADirectionsRenderer","Askstop","getJourney","url","match","params","err","waypoints","location","notificationsService","painter","Mapwithoutform_Mapas","applyForPlace","JourneySelected","receptorId","authorId","journeyId","_this$state2","fetchUser","cooAsked","_this3","info","Mapas_Mapas","LoginSignup","Notifications","notifications","paintNotifications","array","newNotifications","acceptPassenger","notifId","author","receptor","idNotification","Array","isArray","notification","i","class","App","welcome","Switch","Route","exact","path","render","Signup_Signup","Login_Login","LoginSignup_LoginSignup","Join_Join","Create_Join","ProfileInfo_ProfileInfo","component","Notifications_Notifications","Askstop_Askstop","Boolean","hostname","ReactDOM","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8372deb0.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: `${process.env.REACT_APP_API_URL}/auth`,\r\n      withCredentials: true\r\n    })\r\n  }\r\n\r\n  signup = (user) => {\r\n    const formData = new FormData();\r\n    Object.keys(user).forEach(key => formData.append(key, user[key]));\r\n\r\n    return this.service.post('/signup', formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n    })\r\n    .then(response => response.data)\r\n  }\r\n\r\n  login = (user) => {\r\n    return this.service.post('/login', user)\r\n    .then(response => response.data)\r\n  }\r\n\r\n  change = (user) => {\r\n    return this.service.post('/settings', user)\r\n    .then(response => response.data)\r\n  }\r\n\r\n  loggedin = () => {\r\n    return this.service.get('/loggedin')\r\n    .then(response => response.data);\r\n  }\r\n\r\n  logout = () => {\r\n    return this.service.get('/logout')\r\n    .then(response => response.data);\r\n  }\r\n}\r\n\r\nexport default AuthService;","import React, { Component } from 'react';\r\nimport AuthService from '../../Service/AuthService';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default class Signup extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      photo: '',\r\n      redirect: false\r\n    }\r\n\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password, photo} = this.state;\r\n\r\n    this.authService.signup({username, password, photo})\r\n    .then(user => {\r\n      this.props.getUser(user)\r\n      this.setState({username: '', password: '', photo: '', redirect: true})\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    if(name === \"photo\") {\r\n      this.setState({...this.state, photo: e.target.files[0]})\r\n    } else {\r\n      this.setState({...this.state, [name]: value});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(this.state && this.state.redirect) {\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h2>Signup</h2>\r\n        <form onSubmit={this.handleFormSubmit}>\r\n        \r\n          <input type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n         \r\n          <input type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          \r\n          <input type=\"file\" name=\"photo\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input type=\"submit\" value=\"signup\"/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport AuthService from '../../Service/AuthService';\r\nimport {Link,Redirect} from \"react-router-dom\";\r\nexport default class Login extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      redirect: false\r\n\r\n    }\r\n\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password} = this.state;\r\n\r\n    this.authService.login({username, password})\r\n    .then(user => this.props.getUser(user));\r\n    this.setState({redirect: true})\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if(this.state.redirect==true) {\r\n      return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className='loginSignupBody'>\r\n        <div className='back-btn'>\r\n        <Link to='/' className=\"button-circle\">\r\n\r\n        <i className=\"button-circle__icon fa fa-arrow-right\" data-feather=\"chevron-right\"></i>\r\n       \r\n\r\n        </Link>\r\n      </div>\r\n        <img className='logo' src=\"../../../../images/EasyGo-white.svg\" alt=\"\"/>\r\n       \r\n        <form className='center-form' onSubmit={this.handleFormSubmit}>\r\n       \r\n         \r\n          <input className='inputs-form' placeholder='username' type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input className='inputs-form' placeholder='password' type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input className='button submit-log' type=\"submit\" value=\"Login\"/>\r\n        </form>\r\n      </div>      \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"./_nav.scss\";\r\n\r\nexport default class nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"nav-block\" >\r\n        <nav className=\"menu\">\r\n          <input\r\n            type=\"checkbox\"\r\n            href=\"#\"\r\n            className=\"menu-open\"\r\n            name=\"menu-open\"\r\n            id=\"menu-open\"\r\n          />\r\n          <label className=\"menu-open-button\" for=\"menu-open\">\r\n            <span className=\"hamburger hamburger-1\" />\r\n            <span className=\"hamburger hamburger-2\" />\r\n            <span className=\"hamburger hamburger-3\" />\r\n          </label>\r\n\r\n          <Link to=\"/notifications\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-bell\"></i>{\" \"}\r\n          </Link>\r\n          <Link to=\"/profile\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-user\" />{\" \"}\r\n          </Link>\r\n          <Link to=\"/create\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-plus\" />{\" \"}\r\n          </Link>\r\n          <Link to=\"/join\" className=\"menu-item\">\r\n            {\" \"}\r\n            <i className=\"fa fa-search\" />{\" \"}\r\n          </Link>\r\n          \r\n        </nav>\r\n\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n          <defs>\r\n            <filter id=\"shadowed-goo\">\r\n              <feGaussianBlur\r\n                in=\"SourceGraphic\"\r\n                result=\"blur\"\r\n                stdDeviation=\"10\"\r\n              />\r\n              <feColorMatrix\r\n                in=\"blur\"\r\n                mode=\"matrix\"\r\n                values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7\"\r\n                result=\"goo\"\r\n              />\r\n              <feGaussianBlur in=\"goo\" stdDeviation=\"3\" result=\"shadow\" />\r\n              <feColorMatrix\r\n                in=\"shadow\"\r\n                mode=\"matrix\"\r\n                values=\"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2\"\r\n                result=\"shadow\"\r\n              />\r\n              <feOffset in=\"shadow\" dx=\"1\" dy=\"1\" result=\"shadow\" />\r\n              <feComposite in2=\"shadow\" in=\"goo\" result=\"goo\" />\r\n              <feComposite in2=\"goo\" in=\"SourceGraphic\" result=\"mix\" />\r\n            </filter>\r\n            <filter id=\"goo\">\r\n              <feGaussianBlur\r\n                in=\"SourceGraphic\"\r\n                result=\"blur\"\r\n                stdDeviation=\"10\"\r\n              />\r\n              <feColorMatrix\r\n                in=\"blur\"\r\n                mode=\"matrix\"\r\n                values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7\"\r\n                result=\"goo\"\r\n              />\r\n              <feComposite in2=\"goo\" in=\"SourceGraphic\" result=\"mix\" />\r\n            </filter>\r\n          </defs>\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport AuthService from '../../../Service/AuthService.js';\r\nimport Nav from '../../Nav/Nav.js'\r\nexport default class ProfileInfo extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      email:''\r\n    }\r\n \r\n    this.authService = new AuthService();\r\n  }\r\n\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {username, password, email} = this.state;\r\n\r\n    this.authService.change({username, password, email})\r\n    .then(user => this.props.getUser(user));\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n\r\n    this.setState({[name]: value});\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n         <Nav />\r\n         <header id='profile-header'></header>\r\n         \r\n        <img src={this.props.image} alt=\"\"/>   \r\n         <form onSubmit={this.handleFormSubmit}>\r\n          <label>Username</label>\r\n          <input type=\"text\" name=\"username\" onChange={e => this.handleChange(e)} />\r\n\r\n          <label>Password</label>\r\n          <input type=\"password\" name=\"password\" onChange={e => this.handleChange(e)} />\r\n\r\n          <label>Email</label>\r\n          <input type=\"text\" name=\"email\" onChange={e => this.handleChange(e)} />\r\n\r\n          <input type=\"submit\" value=\"Change\"/>\r\n        </form>\r\n\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n       \r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>         \r\n        <Nav />\r\n        <h1>HOME</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass Autocomplete extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n            \r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'Start point',\r\n                    className: 'location-search-inputStart',\r\n                    \r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container \">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer'}\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className:'auto-input',\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default Autocomplete;","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass AutocompleteEnd extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n            className='auto-info'\r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'End Point',\r\n                    className: 'location-search-inputEnd',\r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className:'auto-input',\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default AutocompleteEnd;","import axios from 'axios'\r\n\r\nclass JourneyService{\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: `${process.env.REACT_APP_API_URL}/journeys`,\r\n      withCredentials: true\r\n    })\r\n  }\r\n  \r\n  \r\n  companies = () => {\r\n    return this.service.get('/companies')\r\n    .then(response => response.data)\r\n  }\r\n  userJourneysAccess = () => {\r\n    return this.service.get('/journeys')\r\n    .then(response => response.data)\r\n  }\r\n  userJourneysCreate = (data) => {\r\n    return this.service.post('/create',data)\r\n    .then(response => response.data)\r\n  }\r\n  // userJourneysAskstop= (data) => {\r\n  //   return this.service.get('/journeys/:id',data)\r\n  //   .then(response => response.data)\r\n  // }\r\n  \r\n  userCars = ()=> {\r\n    return this.service.post('/journeys/car')\r\n    .then(response => response.data)\r\n  }\r\n\r\n}\r\nexport default JourneyService;","import PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport isString from 'lodash/isString';\r\nimport React, { Component } from 'react';\r\nimport isBoolean from 'lodash/isBoolean';\r\nimport isFunction from 'lodash/isFunction';\r\n\r\n\r\nclass Toggable extends Component {\r\n\r\n  state = { enabled: this.enabledFromProps() }\r\n\r\n  isEnabled = () => this.state.enabled\r\n\r\n  enabledFromProps() {\r\n    let { enabled } = this.props;\r\n\r\n    // If enabled is a function, invoke the function\r\n    enabled = isFunction(enabled) ? enabled() : enabled;\r\n\r\n    // Return enabled if it is a boolean, otherwise false\r\n    return isBoolean(enabled) && enabled;\r\n  }\r\n\r\n  toggleSwitch = evt => {\r\n    evt.persist();\r\n    evt.preventDefault();\r\n\r\n    const { onClick, onStateChanged } = this.props;\r\n\r\n    this.setState({ enabled: !this.state.enabled }, () => {\r\n      const state = this.state;\r\n\r\n      // Augument the event object with SWITCH_STATE\r\n      const switchEvent = Object.assign(evt, { SWITCH_STATE: state });\r\n\r\n      // Execute the callback functions\r\n      isFunction(onClick) && onClick(switchEvent);\r\n      isFunction(onStateChanged) && onStateChanged(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { enabled } = this.state;\r\n    \r\n    // Isolate special props and store the remaining as restProps\r\n    const { enabled: _enabled, theme, onClick, className, onStateChanged, ...restProps } = this.props;\r\n\r\n    // Use default as a fallback theme if valid theme is not passed\r\n    const switchTheme = (theme && isString(theme)) ? theme : 'default';\r\n\r\n    const switchClasses = classnames(\r\n      `switch switch--${switchTheme}`,\r\n      className\r\n    )\r\n\r\n    const togglerClasses = classnames(\r\n      'switch-toggle',\r\n      `switch-toggle--${enabled ? 'on' : 'off'}`\r\n    )\r\n\r\n    return (\r\n      <div className={switchClasses} onClick={this.toggleSwitch} {...restProps}>\r\n        <div className={togglerClasses}></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nToggable.propTypes = {\r\n  theme: PropTypes.string,\r\n  enabled: PropTypes.oneOfType([\r\n    PropTypes.bool,\r\n    PropTypes.func\r\n  ]),\r\n  onStateChanged: PropTypes.func\r\n}\r\n\r\nexport default Toggable;\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nimport Toggable from '../../Toggable/Toggable.js'\r\nimport axios from 'axios'\r\nimport {Link} from \"react-router-dom\";\r\nexport default class Join extends Component {\r\n \r\nconstructor(props) {\r\n  super(props)\r\n\r\n  this.state = {\r\n    userStart: null,\r\n    userEnd: null,\r\n    directions:null,\r\n    journeys: null,\r\n    journeysFiltered:[],\r\n    enabled: false \r\n  }\r\n  this.journeyService = new JourneyService();\r\n\r\n}\r\ngetJourneys = ()=>{\r\n  this.journeyService.\r\n  userJourneysAccess()\r\n  .then(data=>this.setState({ journeys:data }))\r\n}\r\n\r\ntoggleNotifications = ({ enabled }) => {\r\n  \r\n  this.setState({\r\n    enabled\r\n    \r\n  });\r\n};\r\n\r\nstartInfo = (userStart) => {\r\n    this.setState({ ...this.state, userStart })\r\n  \r\n}\r\nendInfo = (userEnd) => {\r\n    this.setState({ ...this.state, userEnd })\r\n        \r\n}\r\n\r\n\r\nfilterByDistance = ()=>{\r\n  if(this.state.journeysFiltered.length === 0){\r\n  this.state.journeys.forEach((e)=>{\r\n  \r\n  if (((e.coorstart.lat < (this.state.userStart.lat + 0.01)) && (e.coorstart.lat > (this.state.userStart.lat - 0.01))) && ((e.coorstart.lng < (this.state.userStart.lng + 0.01))\r\n   && (e.coorstart.lng > (this.state.userStart.lng - 0.01))) &&  ((e.coorend.lat < (this.state.userEnd.lat + 0.01) && (e.coorend.lat > (this.state.userEnd.lat - 0.01))) && ((e.coorend.lng < (this.state.userEnd.lng + 0.01))\r\n   &&(e.coorend.lng > (this.state.userEnd.lng - 0.01))))){\r\n     \r\n    this.state.journeysFiltered.push(e);\r\n   \r\n    \r\n  }console.log(this.state.journeysFiltered)\r\n  })}\r\n}\r\n\r\n\r\n\r\n\r\n// wantToJoinAddingStop = () =>{\r\n//   let pointInTheWay=this.routes[0].overview_path;\r\n//   console.log(pointInTheWay)\r\n  \r\n//   this.state.journeys.forEach((e)=>{\r\n//     pointInTheWay.forEach(point => {\r\n//       // point.lat(), pont.lng();\r\n//       console.log(\"entra\")\r\n//       console.log(point.lat())\r\n//       if ((e.coordend.lat < (this.state.userEnd.lat + 0.01) && (e.coordend.lat > (this.state.userEnd.lat - 0.01))) && ((e.coordend.lng < (this.state.userEnd.lng + 0.01))\r\n//       &&(e.coordend.lng > (this.state.userEnd.lng - 0.01)))\r\n//       &&  ((point.lat() < (this.state.coorAsked.lat + 0.01) && (point.lat() > (this.state.coorAsked.lat - 0.01))) && ((point.lng() < (this.state.coorAsked.lng + 0.01))\r\n//       &&(point.lng() > (this.state.coorAsked.lng - 0.01))))) {\r\n//         this.state.journeysCloseToMyStartPoint.push(e)\r\n//       }console.log(this.state.journeysCloseToMyStartPoint)\r\n//     })\r\n//   })\r\n// }\r\n\r\n// getDistance =() =>{\r\n//   let DirectionsService = new window.google.maps.DirectionsService();\r\n//   this.state.journeys.forEach((e)=>{\r\n//   // let pointInTheWaylat=this.routes[0].overview_path[0].lat();\r\n//   // let pointInTheWaylng=this.routes[0].overview_path[0].lng();\r\n//   if (this.coorAsked){\r\n//   DirectionsService.route(\r\n//     {\r\n//       origin: new window.google.maps.LatLng(this.coorAsked.lat,this.coorAsked.lng),\r\n//       destination: new window.google.maps.LatLng(e.this.routes[0].overview_path[0].lat(),e.this.routes[0].overview_path[0].lng()),\r\n//       travelMode: window.google.maps.TravelMode.WALKING,\r\n//     },(result, status) => {\r\n//       console.log(result)\r\n//     })\r\n//   }\r\n//     console.log(DirectionsService)\r\n// })}\r\n\r\n\r\n\r\nsortByDate = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.date > b.date) ? 1 : ((b.date > a.date) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  \r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByTime = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.time > b.time) ? 1 : ((b.time > a.time) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByCompany = () =>{\r\n  \r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.company > b.company) ? 1 : ((b.company > a.company) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  \r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\nsortByPlaces = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.places> b.places) ? 1 : ((b.places > a.places) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\n// sortByDistanceWalkingToMyStartPoint = () =>{\r\n  \r\n//   let sortedArray= this.state.journeysFiltered.sort((a,b) => (a.company > b.company) ? 1 : ((b.company > a.company) ? -1 : 0))\r\n//   console.log(this.state.journeysFiltered)\r\n//   this.setState({journeysFiltered:sortedArray})\r\n//  }\r\n\r\nsortByDistance = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.distance > b.distance) ? 1 : ((b.distance > a.distance) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n }\r\n sortByDuration = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.duration > b.duration) ? 1 : ((b.duration > a.duration) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n } \r\n sortByPrice = () =>{\r\n  let sortedArray = this.state.journeysFiltered.sort((a,b) => (a.price > b.price) ? 1 : ((b.price > a.price) ? -1 : 0))\r\n  console.log(this.state.journeysFiltered)\r\n  this.setState({journeysFiltered:sortedArray})\r\n } \r\n\r\ncomponentDidMount() {\r\n  this.getJourneys();\r\n}\r\n\r\n\r\n  render() {\r\n    console.log(this.state.journeysFiltered)\r\n\r\n    const funciona = this.state.userEnd==null ?(\r\n      <p></p>\r\n  ):(\r\n       \r\n        console.log(this.filterByDistance())\r\n  );\r\n\r\n\r\nconst { enabled } = this.state;\r\n\r\n\r\n    return (\r\n      \r\n      <div className='cont'>\r\n       \r\n       {funciona}\r\n         <Nav />\r\n          <div className='join-block'>\r\n        \r\n     \r\n\r\n\r\n         <div  className='userJourney'>\r\n\r\n         <AutocompleteStart update={this.startInfo}/>\r\n         <AutocompleteEnd update={this.endInfo}/>     \r\n\r\n         </div>\r\n\r\n \r\n           <div className='filters'>\r\n           <div className= 'toggle'>\r\n             <p>Filters:</p>\r\n            <Toggable\r\n              theme=\"default\" \r\n              enabled={enabled}\r\n              onStateChanged={this.toggleNotifications}\r\n            />\r\n            </div>\r\n\r\n          {enabled && (\r\n            <div>\r\n              <button onClick={this.sortByCompany}>company</button>\r\n              <button onClick={this.sortByDate}>Date</button>\r\n              <button onClick={this.sortByTime}>time</button>\r\n              <button onClick={this.sortByDistance}>distance</button>\r\n              <button onClick={this.sortByPrice}>price</button>\r\n              <button onClick={this.sortByDuration}>duration</button>\r\n            </div>\r\n          )}\r\n        </div>  \r\n\r\n<div>\r\n  {this.state.journeysFiltered.map(journey => (\r\n  <Link key={journey._id} to={`/journeys/${journey._id}`}>\r\n    <div>\r\n      <div className = 'journey-target'>\r\n        <img className='user-join-img' src={journey.imgPath} alt=\"\"/>\r\n      <div>\r\n        <p>{journey.username}</p>\r\n        <h1>{journey.company}</h1>\r\n        <p>{journey.date}</p>\r\n        <p>{journey.distance}</p>\r\n        <p>{journey.duration}</p>\r\n        <p>{journey.time}</p>\r\n        <p>{journey.price}</p>\r\n      </div>  \r\n      </div>\r\n    </div>\r\n  </Link>\r\n))}\r\n</div>\r\n\r\n</div>\r\n</div>\r\n     \r\n    )\r\n  }\r\n}","import axios from \"axios\";\r\n\r\nclass NotificationsService{\r\nconstructor(props) {\r\n  \r\n  this.service = axios.create({\r\n    baseURL: `${process.env.REACT_APP_API_URL}/notifications`,\r\n    withCredentials: true\r\n  })\r\n\r\n}\r\n\r\ncreate = (data) => {\r\n  return this.service.post('/create', data)\r\n  .then(response => response.data)\r\n}\r\nstatus = (data) => {\r\n  return this.service.post('/status', data)\r\n  .then(response => response.data)\r\n}\r\nsentNotifs = (data) => {\r\n  return this.service.get('/sentNotifications', data)\r\n  .then(response => response.data)\r\n}\r\n\r\nplacesChange = (data) => {\r\n  return this.service.post('/change', data)\r\n  .then(response => response.data)\r\n}\r\n\r\ngetNotifications = (data) => {\r\n  return this.service.get('/show', data)\r\n  .then(response => response.data)\r\n}\r\n\r\n}\r\n\r\n\r\nexport default NotificationsService;","import React, { Component } from 'react'\r\n\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\nimport {\r\n    geocodeByAddress,\r\n    geocodeByPlaceId,\r\n    getLatLng,\r\n  } from 'react-places-autocomplete';\r\n\r\n\r\nclass Autocomplete extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { address: '' };\r\n    }\r\n\r\na\r\n\r\n    handleChange = address => {\r\n      this.setState({ address },() => {\r\n        console.log(this.state);\r\n      });\r\n    };\r\n   \r\n    handleSelect = address => {\r\n      geocodeByAddress(address)\r\n        .then(results => getLatLng(results[0]))\r\n        .then(latLng => {this.props.update(latLng);console.log('Success', latLng)})\r\n        .catch(error => console.error('Error', error));\r\n\r\n    };\r\n\r\n  \r\n    render() {\r\n      \r\n        return (\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <div>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'Search Places ...',\r\n                    className: 'location-search-input',\r\n                  })}\r\n                />\r\n                <div className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map(suggestion => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <div\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className,\r\n                          style,\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                        \r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n          </PlacesAutocomplete>\r\n        );\r\n      }\r\n    }\r\nexport default Autocomplete;","import \"./_map.scss\";\r\nimport React, { Component } from \"react\";\r\nimport JourneyService from '../../Service/JourneyService.js'\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport AutocompleteStart from \"./AutocompleteStart\";\r\nimport AutocompleteEnd from \"./AutocompleteEnd\";\r\nimport AutocompleteAsked from \"./AutocompleteAsked\";\r\nimport companies from \"../../companies.json\";\r\nimport startpoints from \"../../startpoints.json\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Mapas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      coorstart: null,\r\n      coorend: null,\r\n\r\n      coorAsked: null,\r\n\r\n      position: { lat: 40.416947, lng: -3.703523 },\r\n      companies,\r\n      startpoints,\r\n      places:3,\r\n      map: false,\r\n      redirect:false\r\n    };\r\n    this.MapWithADirectionsRenderer = null;\r\n    this.map = null;\r\n    this.journeyService = new JourneyService();\r\n  }\r\n\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance)\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n\r\n    this.setState({ ...this.state, coorAsked });\r\n\r\n  };\r\n\r\n  handleInfo = () => {\r\n    let coord = this.state.coorstart;\r\n    this.props.infoMaps(coord);\r\n  };\r\n\r\n  // comodin = (distance, duration,price) => {\r\n  //     if(this.distance !== distance || this.duration !== duration )\r\n  //       this.setState({...this.state, distance, duration,price, map:true})\r\n  // }\r\n\r\n  componentWillMount=()=>{\r\n\r\n    this.setState({...this.state, coorstart:this.props.startPoint , coorend: this.props.endPoint})\r\n\r\n  }\r\n  createMap = (fnc, mapGoogle) => {\r\n    const coorstart = this.state.coorstart;\r\n    const coorend = this.state.coorend;\r\n    const coorAsked = this.state.coorAsked;\r\n    \r\n\r\n    const map = compose(\r\n      withProps({\r\n        googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n        loadingElement: <div style={{ height: `100%` }} />,\r\n        containerElement: <div style={{ height: `400px`, width: `600px` }} />,\r\n        mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n      }),\r\n      withScriptjs,\r\n      withGoogleMap,\r\n      lifecycle({\r\n        componentDidMount() {\r\n          let google = window.google;\r\n          if (coorend && coorstart) {\r\n            let DirectionsService = new google.maps.DirectionsService();\r\n            DirectionsService.route(\r\n              {\r\n                origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                travelMode: google.maps.TravelMode.DRIVING,\r\n\r\n                //  waypoints: [\r\n                //   {\r\n                //     location: new google.maps.LatLng(\r\n                //       coorAsked.lat,\r\n                //       coorAsked.lng\r\n                //     )\r\n                //   }\r\n                // ]\r\n\r\n               \r\n              },\r\n              (result, status) => {\r\n                if (status === google.maps.DirectionsStatus.OK) {\r\n                  \r\n                  this.setState(\r\n                    {\r\n                      directions: result,\r\n                      distance:\r\n                        (\r\n                          result.routes[0].legs[0].distance.value / 1000 \r\n\r\n                        //   result.routes[0].legs[1].distance.value / 1000\r\n\r\n                        ).toFixed(2)\r\n                          .toString()\r\n                          .replace(\".\", \",\") + \" Km\",\r\n                      duration:\r\n                        Math.floor(\r\n\r\n                          (result.routes[0].legs[0].duration.value / 3600 //+\r\n                            /* result.routes[0].legs[1].duration.value / 3600 */) *\r\n\r\n                            60\r\n                        ) + \" min\",\r\n                      price:(parseFloat(result.routes[0].legs[0].distance.value / 1000)* (6 / 100) * 1.3 * 2).toFixed(2) + \" €\" ,\r\n                      start_point: result.routes[0].legs[0].start_address,\r\n                      start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                      start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                      end_point: result.routes[0].legs[0].end_address,\r\n                      end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                      end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                    },\r\n                    () => {\r\n                      \r\n                      // let price = parseFloat(this.state.distance) * (6 / 100) * 1.3 * 2 + \" €\";\r\n                      \r\n                      var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                      var tempPointlng = result.routes[0].overview_path[0].lng();\r\n                      \r\n                      console.log(tempPointlat, tempPointlng);\r\n                      // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                    }\r\n                  );\r\n                } else {\r\n                  console.error(`error fetching directions ${result}`);\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      })\r\n    )(props => {\r\n        \r\n        return(\r\n      <GoogleMap\r\n        defaultZoom={13}\r\n        defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n      >\r\n        {props.directions && (\r\n          <DirectionsRenderer directions={props.directions} />\r\n        )}\r\n        {/* {this.state.companies.map((company, i) => {\r\n          return (\r\n            <Marker\r\n              key={i}\r\n              position={{\r\n                lat: +company.position.lat.$numberDouble,\r\n                lng: +company.position.lng.$numberDouble\r\n              }}\r\n            />\r\n          );\r\n        })} */}\r\n      </GoogleMap>\r\n    )});\r\n    \r\n    return map;\r\n  };\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {company,places,date,time,price,description,distance,duration,coorstart,coorend} = this.state;\r\n    this.journeyService.userJourneysCreate({company,places,date,time,description,price,distance,duration,coorstart,coorend})\r\n   this.setState({redirect:true})\r\n  }\r\nhandleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    this.setState({...this.state,[name]: value});\r\n  }\r\n\r\n// componentWillUpdate() {\r\n//     this.map = this.createMap(this.comodin, this.state.map)();\r\n// }\r\n  render() {\r\n    this.map = this.createMap(this.comodin, this.state.map)();\r\n    console.log(this.state);\r\n    if(this.state && this.state.redirect) {\r\n        return <Redirect to=\"/home\" />\r\n      }\r\n    return (\r\n      <div>\r\n       \r\n\r\n      \r\n        {/* <AutocompleteAsked update={this.updateCoorAsked} /> */}\r\n        {/* <MapWithADirectionsRenderer /> */}\r\n        {this.map}\r\n    </div>\r\n    );\r\n  }\r\n}","import \"../../Mapas/_map.scss\";\r\nimport React, { Component } from 'react'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport NotificationsService from '../../../Service/NotificationsService';\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport AutocompleteAsked from \"../../Mapas/AutocompleteAsked\";\r\n\r\nimport Mapswithoutformwithmiddle from '../../Mapas/Mapwithoutform';\r\nimport axios from 'axios'\r\nimport { Link } from \"react-router-dom\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Askstop extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      journey: {},\r\n      places: null,\r\n\r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n        this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance)\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n    this.setState({ ...this.state, coorAsked} , () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n  });\r\n};\r\n  getJourney = url => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}/journeys/${url}`)\r\n      .then(journey =>\r\n        this.setState({\r\n          ...this.state,\r\n          journey: (this.props.match.params.id) ? journey.data : journey.data[0]\r\n\r\n        })\r\n\r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  componentWillMount = () => {\r\n\r\n    this.setState({ ...this.state, coorstart: this.props.startPoint, coorend: this.props.endPoint, coorAsked: this.props.coorAsked })\r\n  }\r\n    createMap = (fnc, mapGoogle) => {\r\n      const coorstart = this.state.coorstart;\r\n      const coorend = this.state.coorend;\r\n      const coorAsked = this.state.coorAsked;\r\n\r\n      const map = compose(\r\n        withProps({\r\n          googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n          loadingElement: <div style={{ height: `100%` }} />,\r\n          containerElement: <div style={{ height: `400px`, width: `600px` }} />,\r\n          mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n        }),\r\n        withScriptjs,\r\n        withGoogleMap,\r\n        lifecycle({\r\n          componentDidMount() {\r\n            if (this.props.match.params.id) {\r\n              this.getJourney(`journeys/${this.props.match.params.id}`);\r\n            } else {\r\n              console.log('loading...')\r\n            }\r\n\r\n            let google = window.google;\r\n            if (coorend && coorstart) {\r\n              let DirectionsService = new google.maps.DirectionsService();\r\n              DirectionsService.route(\r\n                {\r\n                  origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                  destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                  travelMode: google.maps.TravelMode.DRIVING,\r\n                   waypoints: [\r\n                    {\r\n                      location: new google.maps.LatLng(\r\n                        coorAsked.lat,\r\n                        coorAsked.lng\r\n                      )\r\n                    }\r\n                  ]\r\n\r\n                },\r\n                (result, status) => {\r\n                  if (status === google.maps.DirectionsStatus.OK) {\r\n\r\n                    this.setState(\r\n                      {\r\n                        directions: result,\r\n                        distance:\r\n                          (\r\n                            result.routes[0].legs[0].distance.value / 1000\r\n                            + result.routes[0].legs[1].distance.value / 1000\r\n                          ).toFixed(2)\r\n                            .toString()\r\n                            .replace(\".\", \",\") + \" Km\",\r\n                        duration:\r\n                          Math.floor(\r\n                            (result.routes[0].legs[0].duration.value / 3600\r\n                            + result.routes[0].legs[1].duration.value / 3600 ) *\r\n                            60\r\n                          ) + \" min\",\r\n                        price: (parseFloat(result.routes[0].legs[0].distance.value / 1000) * (6 / 100) * 1.3 * 2).toFixed(2) + \" €\",\r\n                        start_point: result.routes[0].legs[0].start_address,\r\n                        start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                        start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                        end_point: result.routes[0].legs[0].end_address,\r\n                        end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                        end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                      },\r\n                      () => {\r\n\r\n                    \r\n\r\n                        // var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                        // var tempPointlng = result.routes[0].overview_path[0].lng();\r\n\r\n                        // console.log(tempPointlat, tempPointlng);\r\n                        // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                      }\r\n                    );\r\n                  } else {\r\n                    console.error(`error fetching directions ${result}`);\r\n                  }\r\n                }\r\n              );\r\n            }\r\n          }\r\n        })\r\n      )(props => {\r\n\r\n        return (\r\n          <GoogleMap\r\n            defaultZoom={13}\r\n            defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n          >\r\n            {props.directions && (\r\n              <DirectionsRenderer directions={props.directions} />\r\n            )}\r\n\r\n          </GoogleMap>\r\n        )\r\n      });\r\n    \r\n      return map;\r\n    };\r\n  \r\n  \r\n//   applyForPlace = () => {\r\n\r\n//     if (this.state.journey.journey.places > 0) {\r\n//       let receptorId = this.state.journey.journey.authorId;\r\n//       let type = 'reqPlace';\r\n//       let journeyId = this.state.journey.journey._id;\r\n//       let company = this.state.journey.journey.company;\r\n\r\n//       this.notificationsService.create({ receptorId, type, company, journeyId })\r\n//       // this.state.notifications.push(`${passenger.name} has booked a place in your journey ${journey.id}`)\r\n//     } else {\r\n//       return -1\r\n//     }\r\n\r\n//   }\r\n// }\r\n\r\n\r\n// componentDidMount() {\r\n//   if (this.props.match.params.id) {\r\n//     this.getJourney(`journeys/${this.props.match.params.id}`);\r\n//   } else {\r\n//    console.log('loading...')\r\n//   }\r\n// }\r\n\r\n\r\nrender() {\r\n  console.log(this.state)\r\n  const painter =\r\n\r\n    this.state.journey.journey ? (\r\n      <div>\r\n\r\n        \r\n        <Mapswithoutformwithmiddle startPoint={this.state.journey.journey.coorstart} endPoint={this.state.journey.journey.coorend} />\r\n      </div>\r\n    ) : (\r\n        <p>loading..</p>\r\n      );\r\n\r\n\r\n  console.log(this.state.journey)\r\n  if (this.state.journey.journey)\r\n    console.log(this.state.journey.journey.company)\r\n  return (\r\n    <div>\r\n      {painter}\r\n\r\n      <button onClick={this.applyForPlace}>apply</button>\r\n    </div>\r\n  );\r\n}\r\n  }\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport NotificationsService from '../../Service/NotificationsService';\r\nimport Mapswithoutform from '../Mapas/Mapwithoutform';\r\nexport default class JourneySelected extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      journey:{},\r\n      places:null,\r\n     \r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  getJourney = url => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}/journeys/${url}`)\r\n      .then(journey =>\r\n        this.setState({\r\n          ...this.state,\r\n          journey: (this.props.match.params.id) ? journey.data : journey.data[0]\r\n          \r\n        })\r\n        \r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  applyForPlace = () =>  {\r\n    \r\n    if (this.state.journey.journey.places > 0) {\r\n        let receptorId = this.state.journey.journey.authorId;\r\n        let type = 'reqPlace';\r\n        let journeyId = this.state.journey.journey._id;\r\n        let company = this.state.journey.journey.company;\r\n\r\n        this.notificationsService.create({receptorId,type,company,journeyId})\r\n        // this.state.notifications.push(`${passenger.name} has booked a place in your journey ${journey.id}`)\r\n    } else {\r\n        return -1\r\n    }\r\n  \r\n}\r\n// getcoorstart =()=>{\r\n//   if (this.state.journey.journey){\r\n//     return this.state.journey.journey.coorstart\r\n//   }\r\n// console.log(this.getcoorstart())\r\n  \r\n// }\r\n\r\n\r\n// getcoorend =()=>{\r\n//   if (this.state.journey.journey){\r\n//     return this.state.journey.journey.coorend\r\n//   }\r\n  \r\n// }\r\n// getPlaces = ( ) =>{\r\n//   this.state.journey.journey?(\r\n//     this.setState({places:this.state.journey.journey.places})\r\n//   ):(\r\n//     console.log('kjassazs')\r\n//   )\r\n// }\r\n\r\n  \r\n    componentDidMount() {\r\n      if (this.props.match.params.id) {\r\n        this.getJourney(`journeys/${this.props.match.params.id}`);\r\n      } else {\r\n       console.log('loading...')\r\n      }\r\n    }\r\n\r\n  \r\n  render() {\r\n    console.log(this.state)\r\n\r\n\r\nconst painter = \r\n\r\nthis.state.journey.journey?(\r\n  <div>\r\n  <p>{this.state.journey.journey.company}</p>\r\n  <p>{this.state.journey.journey.date}</p>\r\n  <p>{this.state.journey.journey.time}</p>\r\n  <p>{this.state.journey.journey.price}</p>\r\n  <p>{this.state.journey.journey.duration}</p>\r\n  \r\n  <Mapswithoutform startPoint ={this.state.journey.journey.coorstart} endPoint ={this.state.journey.journey.coorend} />\r\n  </div>\r\n):(\r\n  <p>loading..</p>\r\n);\r\n\r\n\r\nconsole.log(this.state.journey)\r\nif(this.state.journey.journey)\r\nconsole.log(this.state.journey.journey.company)\r\n    return (\r\n      <div>\r\n       {painter}\r\n   \r\n       <button onClick={this.applyForPlace}>apply</button>\r\n      </div>\r\n    )\r\n  }\r\n}","import \"./_map.scss\";\r\nimport React, { Component } from \"react\";\r\nimport JourneyService from \"../../Service/JourneyService.js\";\r\nimport AuthService from \"../../Service/AuthService.js\";\r\nimport {\r\n  withScriptjs,\r\n  DirectionsRenderer,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from \"react-google-maps\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport AutocompleteStart from \"./AutocompleteStart\";\r\nimport AutocompleteEnd from \"./AutocompleteEnd\";\r\nimport AutocompleteAsked from \"./AutocompleteAsked\";\r\nimport companies from \"../../companies.json\";\r\nimport startpoints from \"../../startpoints.json\";\r\nconst { compose, withProps, lifecycle } = require(\"recompose\");\r\n\r\nrequire(\"dotenv\").config();\r\nexport default class Mapas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      coorstart: null,\r\n      coorend: null,\r\n      cooAsked: null,\r\n      position: { lat: 40.416947, lng: -3.703523 },\r\n      companies,\r\n      startpoints,\r\n      places: 3,\r\n      map: false,\r\n      places: 3,\r\n      redirect: false,\r\n      user:null\r\n\r\n    };\r\n    this.MapWithADirectionsRenderer = null\r\n    this.map = null\r\n    this.journeyService = new JourneyService()\r\n    this.authService = new AuthService()\r\n    this.fetchUser()\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.map = this.createMap(this.comodin, this.state.map)();\r\n\r\n   \r\n   \r\n  }\r\n\r\n\r\n  fetchUser = () => {\r\n    this.authService\r\n      .loggedin()\r\n      .then(user => this.setState({ ...this.state, user }));\r\n  };\r\n\r\n  updateCoorstart = coorstart => {\r\n    this.setState({ ...this.state, coorstart }, () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.startPoint(coorstart);\r\n  };\r\n  updateCoorend = coorend => {\r\n    this.setState({ ...this.state, coorend }, () => {\r\n      this.map = this.createMap(this.comodin, this.state.map)();\r\n    });\r\n    this.props.endPoint(coorend);\r\n    this.props.distance(this.state.distance);\r\n  };\r\n  updateCoorAsked = coorAsked => {\r\n    this.setState({ ...this.state, coorAsked });\r\n  };\r\n\r\n  handleInfo = () => {\r\n    let coord = this.state.coorstart;\r\n    this.props.infoMaps(coord);\r\n  };\r\n\r\n  comodin = (distance, duration, price) => {\r\n    if (this.distance !== distance || this.duration !== duration)\r\n      this.setState({ ...this.state, distance, duration, price, map: true });\r\n  };\r\n\r\n  createMap = (fnc, mapGoogle) => {\r\n    const coorstart = this.state.coorstart;\r\n    const coorend = this.state.coorend;\r\n    const coorAsked = this.state.coorAsked;\r\n\r\n    const map = compose(\r\n      withProps({\r\n        googleMapURL: `https://maps.googleapis.com/maps/api/js?key=AIzaSyB-P5Wpth-cMCDmm_TFPev1gWaoqhYAYpQ&v=3.exp&libraries=geometry,drawing,places`,\r\n        loadingElement: <div style={{ height: `100%` }} />,\r\n        containerElement: <div style={{ height: `80vh`, width: `50vw` }} />,\r\n        mapElement: <div className=\"map\" style={{ height: `100%` }} />\r\n      }),\r\n      withScriptjs,\r\n      withGoogleMap,\r\n      lifecycle({\r\n        componentDidMount() {\r\n          let google = window.google;\r\n          if (coorend && coorstart) {\r\n            let DirectionsService = new google.maps.DirectionsService();\r\n            DirectionsService.route(\r\n              {\r\n                origin: new google.maps.LatLng(coorstart.lat, coorstart.lng),\r\n                destination: new google.maps.LatLng(coorend.lat, coorend.lng),\r\n                travelMode: google.maps.TravelMode.DRIVING\r\n                // waypoints: [\r\n                //   {\r\n                //     location: new google.maps.LatLng(\r\n                //       coorAsked.lat,\r\n                //       coorAsked.lng\r\n                //     )\r\n                //   }\r\n                // ]\r\n              },\r\n              (result, status) => {\r\n                if (status === google.maps.DirectionsStatus.OK) {\r\n                  this.setState(\r\n                    {\r\n                      directions: result,\r\n                      distance: (result.routes[0].legs[0].distance.value / 1000)\r\n                        //   result.routes[0].legs[1].distance.value / 1000\r\n\r\n                        .toFixed(2)\r\n                        .toString()\r\n                        .replace(\".\", \",\"),\r\n                      duration: Math.floor(\r\n                        (result.routes[0].legs[0].duration.value / 3600) * //+\r\n                          /* result.routes[0].legs[1].duration.value / 3600 */ 60\r\n                      ),\r\n                      price: (\r\n                        parseFloat(\r\n                          result.routes[0].legs[0].distance.value / 1000\r\n                        ) *\r\n                        (6 / 100) *\r\n                        1.3 *\r\n                        2\r\n                      ).toFixed(2),\r\n\r\n                      start_point: result.routes[0].legs[0].start_address,\r\n                      start_location_lat: result.routes[0].legs[0].start_location.lat(),\r\n                      start_location_lng: result.routes[0].legs[0].start_location.lng(),\r\n                      end_point: result.routes[0].legs[0].end_address,\r\n                      end_location_lat: result.routes[0].legs[0].end_location.lat(),\r\n                      end_location_lng: result.routes[0].legs[0].end_location.lng()\r\n                    },\r\n                    () => {\r\n                      // let price = parseFloat(this.state.distance) * (6 / 100) * 1.3 * 2 + \" €\";\r\n                      console.log(this.price);\r\n                      console.log(this.state);\r\n                      var tempPointlat = result.routes[0].overview_path[0].lat();\r\n                      var tempPointlng = result.routes[0].overview_path[0].lng();\r\n                      fnc(\r\n                        this.state.distance,\r\n                        this.state.duration,\r\n                        this.state.price\r\n                      );\r\n                      console.log(tempPointlat, tempPointlng);\r\n                      // console.log((result.routes[0].legs[0].duration.value/3600) + (result.routes[0].legs[1].duration.value/3600).toString().split(\".\",1))\r\n                    }\r\n                  );\r\n                } else {\r\n                  console.error(`error fetching directions ${result}`);\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      })\r\n    )(props => {\r\n      return (\r\n        <GoogleMap\r\n          defaultZoom={10}\r\n          defaultCenter={new window.google.maps.LatLng(40.416947, -3.703523)}\r\n        >\r\n          {props.directions && (\r\n            <DirectionsRenderer directions={props.directions} />\r\n          )}\r\n          {/* {this.state.companies.map((company, i) => {\r\n          return (\r\n            <Marker\r\n              key={i}\r\n              position={{\r\n                lat: +company.position.lat.$numberDouble,\r\n                lng: +company.position.lng.$numberDouble\r\n              }}\r\n            />\r\n          );\r\n        })} */}\r\n        </GoogleMap>\r\n      );\r\n    });\r\n\r\n    return map;\r\n  };\r\n\r\n  handleFormSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const {\r\n      company,\r\n      places,\r\n      date,\r\n      time,\r\n      price,\r\n      description,\r\n      distance,\r\n      duration,\r\n      coorstart,\r\n      coorend\r\n    } = this.state;\r\n    const imgPath = this.state.user.imgPath\r\n    const username = this.state.user.username\r\n    this.journeyService.userJourneysCreate({\r\n      company,\r\n      places,\r\n      date,\r\n      time,\r\n      description,\r\n      price,\r\n      distance,\r\n      duration,\r\n      coorstart,\r\n      coorend,\r\n      username,\r\n      imgPath\r\n    });\r\n    this.setState({ redirect: true });\r\n  };\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({ ...this.state, [name]: value });\r\n  };\r\n \r\n  // componentWillUpdate() {\r\n  //     this.map = this.createMap(this.comodin, this.state.map)();\r\n  // }\r\n  render() {\r\n    console.log(this.state.user);\r\n    if (this.state && this.state.redirect) {\r\n      return <Redirect to=\"/profile\" />;\r\n    }\r\n    return (\r\n      <div className=\"createSection\">\r\n        {this.map}\r\n        {/* {this.state.companies.map(company => { return <div> {company.name}</div> })} */}\r\n        <div className=\"formulary\">\r\n          {/* <p>{this.state.distance}</p> */}\r\n\r\n          <div className=\"journeyInfo-block\">\r\n            <div className='info-text'>\r\n              <div className=\"journeyInfo\">\r\n                <p>{this.state.duration}</p>\r\n              </div>\r\n              <p>mins</p>\r\n            </div>\r\n\r\n            <div className='info-text'>\r\n              <div className=\"journeyInfo\">\r\n                <p>{this.state.price}</p>\r\n              </div>\r\n              <p>eur</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"autoComplete\">\r\n            <AutocompleteStart update={this.updateCoorstart} />\r\n            <AutocompleteEnd update={this.updateCoorend} />\r\n          </div>\r\n          <form className=\"inputs\" onSubmit={this.handleFormSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"company\"\r\n              placeholder=\"Company name\"\r\n              onChange={e => this.handleChange(e)}\r\n              className=\"inputCompany\"\r\n            />\r\n\r\n            <br />\r\n\r\n            <div>\r\n              <input\r\n                type=\"date\"\r\n                name=\"date\"\r\n                \r\n                onChange={e => this.handleChange(e)}\r\n                className=\"inputDate\"\r\n              />\r\n              <input\r\n                type=\"time\"\r\n                name=\"time\"\r\n                onChange={e => this.handleChange(e)}\r\n                className=\"inputTime\"\r\n              />\r\n            </div>\r\n            <textarea\r\n              type=\"text\"\r\n              name=\"description\"\r\n              placeholder=\"Requirements to travel with you ...\"\r\n              onChange={e => this.handleChange(e)}\r\n              className=\"inputDescription\"\r\n            />\r\n\r\n            <button type=\"submit\" value=\"submit\" className=\"btn\">\r\n              submit\r\n              <div className=\"ico\">\r\n                <i className=\"fa fa-paper-plane\" />\r\n              </div>\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Nav from '../../Nav/Nav.js'\r\nimport AutocompleteStart from '../../Mapas/AutocompleteStart.js'\r\nimport AutocompleteEnd from '../../Mapas/AutocompleteEnd.js'\r\nimport Mapa from '../../Mapas/Mapas.js'\r\nimport JourneyService from '../../../Service/JourneyService.js'\r\nexport default class Join extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      \r\n    }\r\n    this.journeyService = new JourneyService();\r\n  }\r\n\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {company,places,date,time,description,distance,duration,startPoint,endPoint} = this.state;\r\n\r\n    this.journeyService.userJourneysCreate({company,places,date,time,description,distance,duration,startPoint,endPoint})\r\n   \r\n  }\r\n  \r\nstartPoint = (info) =>{\r\n  this.setState({\r\n    startPoint: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n\r\nendPoint = (info) =>{\r\n  this.setState({\r\n    endPoint: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n \r\ndistance = (info) =>{\r\n  this.setState({\r\n    distance: info\r\n},() => console.log('Updated Creation State:', this.state));\r\n}\r\n\r\nhandleChange = (e) => {\r\n  const {name, value} = e.target;\r\n  this.setState({...this.state,[name]: value});\r\n}\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n         \r\n         <Nav />\r\n    <Mapa startPoint={this.startPoint} endPoint={this.endPoint} user={this.props.username} distance={this.distance}/>               \r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Login from '../../auth/Login'\r\nimport Signup from '../../auth/Signup'\r\nimport { Route, Link, Switch, Redirect, Router } from \"react-router-dom\";\r\n\r\nexport default class LoginSignup extends Component {\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n        <div className='loginSignupBody'>\r\n\t\t\t\t<img className='logo' src=\"../../../../images/EasyGo-white.svg\" alt=\"\"/>\r\n\t\t\t\t<h1 className='easy-go'>easy go</h1>\r\n\r\n        <Link className='button btn-log' to='/login'>Log in</Link>\r\n\t\t\t\t<Link className='button btn-sign' to='/signup'>Sign up</Link>\r\n\t\t\t\t</div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport NotificationsService from '../../../Service/NotificationsService.js'\r\nimport Nav from '../../../components/Nav/Nav.js'\r\n\r\nexport default class Notifications extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n       notifications:[],\r\n       newNotifications:[]\r\n       \r\n    }\r\n    this.notificationsService = new NotificationsService();\r\n  }\r\n  getNotifications = () =>{\r\n    this.notificationsService.\r\n    getNotifications()\r\n    .then(data=>this.setState({ notifications:data }))\r\n  }\r\n  paintNotifications = () =>{\r\n    let array = []\r\n    this.state.notifications?(\r\n      \r\n      this.state.notifications.forEach(e => {\r\n        array.push(e)\r\n        this.setState({newNotifications: array})\r\n      })\r\n       \r\n    ):(\r\n      console.log('not found')\r\n    )\r\n  }\r\n  \r\n   acceptPassenger = ( notifId,journeyId,author,receptor) =>  {\r\n      const idNotification = notifId;\r\n      const status = 'Accepted';\r\n      const authorId = receptor;\r\n      const receptorId = author;\r\n\r\n\r\n      this.notificationsService.status({status,idNotification,journeyId,authorId,receptorId})\r\n      .then(console.log)\r\n  }\r\n\r\n\r\n  //  denyPassenger = () =>  {\r\n  //         if (this.places > 0) {\r\n  //             this.places = (this.places) + 1\r\n  //             this.state.notifications.push(`${driver.name} has denied your request`)\r\n  //         }\r\n  //     }\r\n\r\n  //  newStop = () => {\r\n  //     this.state.notifications.push(`${passenger.name} has suggested a new stop in the journey ${journey.id}`)\r\n  // }\r\n  //  acceptNewRoute = () => {\r\n  //     this.state.notifications.push(`${driver.name} has accepted your change with the next conditions:`)\r\n  // }\r\n  //  denyNewRoute = () => {\r\n  //     this.state.notifications.push(`${driver.name} has denied your change`)\r\n  // }\r\n\r\n  componentDidMount(){\r\n    this.getNotifications()\r\n   this.paintNotifications()\r\n  }\r\n\r\n  render() {\r\n\r\n// const paint =\r\n    // this.state.notifications.length !== 0 ? \r\n    // <p>{this.state.notifications.company}</p>\r\n    // :<p>loading..</p>\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        {Array.isArray(this.state.notifications) && this.state.notifications.map((notification,i)=> {\r\n          return (\r\n            <div className='notifs-block'>\r\n              <Nav />\r\n\r\n              {notification.type=='reqPlace' && notification.status == 'Pending'?(\r\n                \r\n            <div className=\"Message\">\r\n                <div className=\"Message-icon\">\r\n                  <i className=\"fa fa-bell-o\"></i>\r\n                </div>\r\n                <div className=\"Message-body\">\r\n                <p>{notification.company}</p>\r\n                  <button className=\"Message-button\" key={notification._id} onClick={(e)=>this.acceptPassenger(notification._id, notification.journeyId, notification.authorId, notification.receptorId)}>Accept</button>\r\n                  <button className=\"Message-button\">Deny</button>\r\n                </div>\r\n                <button className=\"Message-close js-messageClose\"><i class=\"fa fa-times\"></i></button>\r\n            </div>\r\n               \r\n              ):(\r\n                <div></div>\r\n              )}\r\n\r\n              {notification.type=='resPlace'?(\r\n              <div>\r\n                 <button>pay</button>\r\n               </div>\r\n              ):(\r\n                <div>\r\n                \r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n            )\r\n        })}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"./styles.scss\"\r\nimport { Route, Link, Switch, Redirect, Router } from \"react-router-dom\";\r\nimport Signup from \"./components/auth/Signup\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Home from \"./components/sections/Home/Home.js\";\r\nimport AuthService from \"./Service/AuthService\";\r\nimport ProfileInfo from \"./components/sections/ProfileInfo/ProfileInfo\";\r\nimport Join from './components/sections/Join/Join.js';\r\nimport Askstop from './components/sections/Askstop/Askstop.js';\r\nimport JourneySelected from './components/JourneySelected/JourneySelected.js';\r\nimport Create from './components/sections/Create/Create.js';\r\nimport LoginSignup from './components/sections/LoginSignup/LoginSignup.js';\r\nimport Notifications from './components/sections/Notifications/Notifications';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      user: null,\r\n    };\r\n\r\n    this.authService = new AuthService();\r\n\r\n    this.fetchUser();\r\n  }\r\n\r\n  fetchUser = () => {\r\n    this.authService\r\n      .loggedin()\r\n      .then(user => this.setState({ ...this.state, user }));\r\n  };\r\n\r\n  getUser = user => {\r\n    this.setState({ ...this.state, user });\r\n  };\r\n\r\n  logout = () => {\r\n    this.authService\r\n      .logout()\r\n      .then(() => this.setState({ ...this.state, user: null }));\r\n  };\r\n\r\n  render() {\r\n\r\n    const welcome = this.state.user ? (\r\n      <div>\r\n        \r\n \r\n       \r\n        <Link to='/login' className='logout' onClick={this.logout}>Logout</Link>\r\n\r\n \r\n\r\n         \r\n      </div>\r\n    ) : (\r\n      <div>\r\n       \r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"App\">\r\n {welcome}\r\n        {/* <p>Hola {this.state.user.username}</p> */}\r\n        <Switch>\r\n          <Route exact path=\"/singup\" render={() => <Signup getUser={this.getUser} />} />  \r\n          <Route exact path=\"/login\" render={() => <Login getUser={this.getUser} />} />  \r\n          <Route exact path=\"/\" render={() => <LoginSignup getUser={this.getUser} />} />\r\n         \r\n          <Route path=\"/join\" render={() => <Join getUser={this.getUser} />} />  \r\n          <Route path=\"/create\" render={() => <Create getUser={this.getUser}/>}/>\r\n          <Route path=\"/signup\" render={() => <Signup getUser={this.getUser} />}/>\r\n          <Route path=\"/profile\" render={() => <ProfileInfo image={this.state.user.imgPath} getUser={this.getUser} />} />\r\n          <Route exact path=\"/journeys/:id\" component={JourneySelected}/>\r\n          <Route exact path=\"/journeys/:id/askstop\" component={Askstop}/>\r\n          <Route exact path=\"/notifications\" render={() => <Notifications getUser={this.getUser} />}/>\r\n          <Route path=\"/askstop\" render={() => <Askstop getUser={this.getUser} />}/>\r\n        </Switch>\r\n  \r\n    \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}